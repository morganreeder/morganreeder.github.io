/*!
 * Saola Animate HTML5 Player
 * Copyright (c) Atomi Systems, Inc. All rights reserved.
 * https://atomisystems.com
 * Player Version: 6
 * Date: 2019/03/27
 */
!function(){"use strict";var t=0,e=1,i=2,s=3,n=4,o=5,r=7,a=9,h=11,l=1,d=2,c=3,u=0,p=1,f=2,m=3,g=0,v=1,y=2,_=3,T=0,w=1,b=2,S=3,E=4,x=0,A=1,D={CIRCLE:0,ELLIPSE:1},C={CLOSE_SIDE:0,FAR_SIDE:1,CLOSE_CORNER:2,FAR_CORNER:3},R=0,P=1,I=2,M={RECT:11,ROUND_RECT:12,RECT_COUT:13,ROUND_RECT_COUT:14,RIGHT_ARW:15,LEFT_ARW:16,UP_ARW:17,DOWN_ARW:18,OVAL_COUT:19,CROSS:20,OVAL:21,DIAMOND:22,LEFT_RIGHT_ARW:25,UP_DOWN_ARW:26,RIGHT_ARW_COUT:27,DOWN_ARW_COUT:28,LEFT_ARW_COUT:29,UP_ARW_COUT:30,NOTCH_RIGHT_ARW:31,CHEVRON:32,TRI:33,RIGHT_TRIANGLE:34,DATA:35,POLY_MIN:36,POLY_MAX:52,PLAQUE:53,HEART:56,MOON:57,TRAPE:61,OFFPAGE_CONNECTOR:69,DISPLAY:71,CARD:72,PENTAGON:73,STOREDATA:74,WAVE:75,STAR_MIN:77,STAR_MAX:589,LINE:590,ARROW:591,DBL_ARW:592,AUTOSHAPE_CUSTOM_CURVE:593,AUTOSHAPE_CUSTOM_FREEFORM_SHAPE:594,AUTOSHAPE_CUSTOM_FREEFORM_SCRIBBLE:595,OVAL_THOUGHT:1e3,ROUND_RECT_THOUGHT:1001},k={NONE:0,ARROW:1,OPEN:2,STEALTH:3,DIAMOND:4,OVAL:5},O={IMAGE:0,AUDIO:1,VIDEO:2,SYMBOL:3,FONT:4,JS:5,CSS:6,HTML:7},N={NONE:0,LEFT:1,RIGHT:2,HCENTER:4,JUSTIFY:8,TOP:32,BOTTOM:64,VCENTER:128},L=0,B=1,F=2,W=0,G=1,H=3,Y=["scripterror","sceneactivate","scenedeactivate","create","ready","destroy"],U={0:"none",1:"start",2:"progress",3:"complete",4:"itemstart",5:"itemcomplete",20:"create",21:"ready",22:"destroy",23:"scripterror",50:"sceneactivate",51:"scenedeactivate",52:"scroll",53:"keydown",54:"keyup",55:"orientationchange",56:"resize",100:"click",101:"dblclick",102:"mouseover",103:"mousedown",104:"mousemove",105:"mouseup",106:"mouseout",107:"mouseenter",108:"mouseleave",109:"focus",110:"swipeleft",111:"swiperight",150:"update",151:"play",152:"pause",153:"complete",154:"speedchange",155:"reverse",156:"seek",200:"trigger",201:"playback"},V={NONE:0,TL_ST:1,TL_PL:2,TL_PLF:3,TL_PS:4,TL_PSA:5,TL_TGP:6,TL_SK:7,SYM_ST:20,SYM_PL:21,SYM_PLF:22,SYM_PS:23,SYM_PSA:24,SYM_TGP:25,SYM_SK:26,AV_ST:40,AV_PL:41,AV_PLF:42,AV_PS:43,AV_PSA:44,AV_MUTE:45,AV_VOL:46,AV_TGMUTE:47,AV_MUTE_ALL:48,AV_TGP:49,AV_SK:50,VID_FS:51,ELEM_HIDE:70,ELEM_SHOW:71,ELEM_TGS:72,JUMP_TO_SCENE:100,LINK:101,CHANGE_TEXT:102,JS:103},X=1,z=2,$=3,q=4,Q=5,Z={NEXT:-2,PREV:-3,LAST:-4,FIRST:-5},j=1,K=2,J=3,tt=Math.PI,et=window.document,it=["Webkit","Moz","ms","O"],st={},nt="string",ot="function",rt=et.createElement("div"),at={},ht=!!window.addEventListener,lt=window.SL_EDITOR;function dt(t,e,i){if(e in t||!e)return e;var s,n,o=e.charAt(0).toUpperCase()+e.slice(1),r=it.length;for(n=0;n<r;++n)if((s=it[n]+o)in t)return s;return i?"":e}function ct(t,e){var i=dt(rt.style,t,!0);return!!i&&(st[t]=i,rt.style[i]=e,!!rt.style[i]||!!(i==t&&(i="Webkit"+t.charAt(0).toUpperCase()+t.slice(1))in rt.style&&(rt.style[i]=e,rt.style[i]))&&(st[t]=i,!0))}at.transform=!!dt(rt.style,"transform",!0),st.transform=dt(rt.style,"transform"),st.transformOrigin=dt(rt.style,"transformOrigin"),st.transformStyle=dt(rt.style,"transformStyle"),st.filter=dt(rt.style,"filter"),at.cssFilter=ct("filter","drop-shadow(5px 5px 5px rgba(0, 0, 0, 0.5))"),st.clipPath=dt(rt.style,"clipPath"),at.clipPath=ct("clipPath","polygon(50% 0%, 0% 100%, 100% 100%)"),st.perspective=dt(rt.style,"perspective"),st.perspectiveOrigin=dt(rt.style,"perspectiveOrigin"),function(){if(Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var i=this.length;for(e=e?e<0?Math.max(0,i+e):e:0;e<i;++e)if(e in this&&this[e]===t)return e;return-1}),!String.prototype.trim){var t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(t,"")}}if(Date.now||(Date.now=function(){return(new Date).getTime()}),!window.requestAnimationFrame){for(var e=["webkit","moz","ms","o"],i=0,s=e.length;i<s;++i)if(window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.requestAnimationFrame){window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];break}window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var e=Date.now(),i=t.requestAnimationFrameTime?Math.max(0,16-(e-t.requestAnimationFrameTime)):0;return t.requestAnimationFrameTime=e+i,window.setTimeout(function(){t(Date.now())},i)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}}(),at.gradient=function(){var t,e,i={},s=rt.style,n="linear-gradient",o="(left, red, blue)",r=["","-webkit-","-moz-","-o-"],a=["(to right, red, blue)",o,o,o];try{for(t=0,e=r.length;t<e;++t)if(s.backgroundImage=r[t]+n+a[t],(""+s.backgroundImage).indexOf("gradient")>-1){i={linear:r[t]+n,radial:"-o-"===r[t]?void 0:r[t]+"radial-gradient",prefixed:!!r[t]};break}}catch(t){}return i}();var ut,pt,ft,mt;at.audio=function(){var t,e=et.createElement("audio"),i={},s={mp3:"audio/mpeg;",ogg:'audio/ogg; codecs="vorbis"',aac:'audio/mp4; codecs="mp4a.40.2"',wav:'audio/wav; codecs="1"'},n=/^no$/;if(e.canPlayType){for(t in s)s.hasOwnProperty(t)&&e.canPlayType(s[t]).replace(n,"")&&(i[t]=!0);i.oga=i.ogg,i.mp4=i.m4a=i.aac}return i}(),at.video=function(){var t,e=et.createElement("video"),i={},s={mp4:"video/mp4;",webm:'video/webm; codecs="vp8, vorbis"',ogg:'video/ogg; codecs="theora, vorbis"'},n=/^no$/;if(e.canPlayType){for(t in s)s.hasOwnProperty(t)&&e.canPlayType(s[t]).replace(n,"")&&(i[t]=!0);i.ogv=i.ogg,i.m4v=i.mp4}return i}(),at.svgShadowBox=(ut=!!et.documentMode,pt=!ut&&!!window.StyleMedia,!ut&&!pt),at.filterDropShadow=(ft=!!et.documentMode,mt=!ft&&!!window.StyleMedia,!ft&&!mt&&at.cssFilter);var gt=at.filterDropShadow&&!lt,vt=Array.isArray;function yt(){var t,e,i,s,n=arguments.length,o=1,r=!0;if("boolean"==typeof(t=arguments[0])?(r=t,t=arguments[1]||{},++o):t||(t={}),n<=1)return t;for(;o<n;++o)if(e=arguments[o])for(i in e)void 0===(s=e[i])||!r&&void 0!==t[i]||(t[i]=s);return t}function _t(t,e){return function(){var i=this[t];return!!i&&i[e].apply(i,arguments)}}function Tt(t,e,i){var s,n,o;for(s=0,n=i.length;s<n;++s)t[o=i[s]]=_t(e,o)}function wt(t,e,i){t=t||{},arguments.length<2&&(e=!0),arguments.length<3&&(i=!1);var s,n,o,r=this.prototype,a={};for(s in t)void 0!==(n=t[s])&&(void 0===(o=r[s])?r[s]=n:e&&(a[s]=o,r[s]=n));var h,l,d,c,u=this.childClasses;for(h=0,l=u.length;h<l;++h){if(d=u[h],e&&!i){c={},r=d.prototype;for(s in a)r[s]===a[s]&&(c[s]=t[s]);d.extend(c,!0,!1)}d.extend(t,i,i)}return this}function bt(){var t,e=function(){this.$init.apply(this,arguments)},i=[e.prototype],s=0,n=null;for(typeof arguments[0]===ot&&((n=arguments[0]).childClasses||(n.childClasses=[]),n.childClasses.push(e),s=1,i.push(n.prototype)),t=arguments.length;s<t;++s)i.push(arguments[s]);return yt.apply(null,i),e.prototype.$init||(e.prototype.$init=function(){}),e.prototype.constructor=e,e.parentClass=n,e.childClasses=[],e.extend=wt,e}function St(t){var e;St.disabled||(e=t,window.console&&console.log(e))}function Et(t,e,i){return Math.min(Math.max(t,e),i)}function xt(t){return!isNaN(parseFloat(t))&&isFinite(t)}St.disabled=!0;var At=0;function Dt(){return++At}function Ct(t,e){for(var i in e)t.setAttribute(i,e[i])}function Rt(t,e,i,s){return void 0===e?t:void 0===s||255==s?"rgb("+Math.round(t)+","+Math.round(e)+","+Math.round(i)+")":(s/=255,"rgba("+Math.round(t)+","+Math.round(e)+","+Math.round(i)+","+s.toFixed(6)+")")}var Pt=/[\t\r\n\f]/g,It=/\S+/g;function Mt(t,e,i){var s,n,o,r=e.match(It)||[],a=r.length,h=!1;if(t.classList)for(s=0;s<a;++s)i?t.classList.add(r[s]):t.classList.remove(r[s]);else{for(o=(" "+t.className+" ").replace(Pt," "),s=0;s<a;++s)if(n=r[s],i)o.indexOf(" "+n+" ")<0&&(o+=n+" ",h=!0);else for(;o.indexOf(" "+n+" ")>=0;)o=o.replace(" "+n+" "," "),h=!0;h&&(t.className=o.trim())}}function kt(t,e){var i;return"auto"===e&&"scroll"===t.style.overflow&&(t.style.overflow="hidden",i=t.offsetWidth),t.style.overflow=e,i}function Ot(t,e,i){var s=t.style,n=s.textDecoration,o=!1;if(i)-1===n.indexOf(e)&&(n+=" "+e,o=!0);else for(;-1!==n.indexOf(e);)n=n.replace(e,""),o=!0;o&&(s.textDecoration=n.trim())}function Nt(t,e){var i=t?t.style:null;if(i)switch(e){case"horizontal":case N.HCENTER:i.top=i.bottom="",i.marginTop=i.marginBottom="",i.left=i.right=0,i.marginLeft=i.marginRight="auto";break;case"vertical":case N.VCENTER:i.left=i.right="",i.marginLeft=i.marginRight="",i.top=i.bottom=0,i.marginTop=i.marginBottom="auto";break;case"both":case N.HCENTER|N.VCENTER:i.left=i.right=i.top=i.bottom=0,i.margin="auto";break;default:i.left=i.right=i.top=i.bottom="",i.margin=""}}var Lt=bt({$init:function(){this.$observable={o:[],d:0}},addObserver:function(t){if(t){var e,i,s=this.$observable.o;for(e=0,i=s.length;e<i;++e)if(s[e].o===t&&!s[e].removed)return;s.push({o:t})}},removeObserver:function(t){if(typeof t===nt)this.removeObserversById(t);else{var e,i=this.$observable.o;for(e=i.length-1;e>=0;--e)if(i[e].o===t&&!i[e].removed){this.$observable.d>0?i[e].removed=!0:i.splice(e,1);break}}},removeObserversById:function(t){var e,i=this.$observable.o;for(e=i.length-1;e>=0;--e)i[e].o.id===t&&(this.$observable.d>0?i[e].removed=!0:i.splice(e,1))},removeObservers:function(){var t,e,i=this.$observable,s=i.o;if(i.d>0)for(i.removed=!0,t=0,e=s.length;t<e;++t)s[t].removed=!0;else s.length=0},notifyObservers:function(t,e){if(t){var i,s,n,o=this.$observable,r=o.o;for(++o.d,i=0;i<r.length;++i)(s=r[i]).removed||(s=s.o)[t]&&("$event.handler"===s.id?n=s[t](this,e):s[t](this,e));if(--o.d,0===o.d)if(o.removed)r.length=0,o.removed=!1;else for(i=r.length-1;i>=0;--i)r[i].removed&&r.splice(i,1);return n}}});function Bt(t,e,i){try{return t?t.call(i.currentTarget,e||me,i):void 0}catch(t){if("scripterror"!==i.type){var s=i.currentTarget||e;te(s,"scripterror"),s.notifyObservers("scripterror",{type:i.type,message:t.toString()})}return void St(t)}}function Ft(t,e){return t.getTimeline(-1===e?void 0:e)}function Wt(t,e){var i;switch(e){case-1:return t;case-2:return t.getParentDoc();case-3:for(;i=t.getParentDoc();)t=i;return t}return t.getElement(e)}function Gt(t,e,i){if(typeof t===ot)return Bt(t,e,i);var s;if(e)switch(e.transition&&Ht(t)&&e.transition.goToEnd(),t[0]){case V.TL_ST:(s=Ft(e,t[1]))&&s.start(t[2]||1,t[3]||!1);break;case V.TL_PL:(s=Ft(e,t[1]))&&s.play(void 0,t[2]||1,t[3]||!1);break;case V.TL_PLF:(s=Ft(e,t[1]))&&s.play(t[2],t[3]||1,t[4]||!1);break;case V.TL_PS:(s=Ft(e,t[1]))&&s.pause();break;case V.TL_PSA:(s=Ft(e,t[1]))&&s.pause(t[2]);break;case V.TL_TGP:(s=Ft(e,t[1]))&&(s.isPlaying()?s.pause():s.play());break;case V.TL_SK:(s=Ft(e,t[1]))&&s.seek(t[2]);break;case V.SYM_ST:case V.AV_ST:(s=t[0]===V.SYM_ST?Wt(e,t[1]):e.getElement(t[1]))&&(s.setSpeed&&s.setSpeed(t[2]||1),s.setPlayBackward&&s.isPlayBackward&&s.getDuration?(s.setPlayBackward(t[3]||!1),s.seek&&s.seek(s.isPlayBackward()?s.getDuration():0)):s.seek&&s.seek(0),s.play&&s.play());break;case V.SYM_PL:case V.AV_PL:(s=t[0]===V.SYM_PL?Wt(e,t[1]):e.getElement(t[1]))&&(s.setSpeed&&s.setSpeed(t[2]||1),s.setPlayBackward&&s.setPlayBackward(t[3]||!1),s.play&&s.play());break;case V.SYM_PLF:case V.AV_PLF:(s=t[0]===V.SYM_PLF?Wt(e,t[1]):e.getElement(t[1]))&&(s.setSpeed&&s.setSpeed(t[3]||1),s.setPlayBackward&&s.setPlayBackward(t[4]||!1),s.seek&&s.seek(t[2]),s.play&&s.play());break;case V.SYM_PS:case V.AV_PS:(s=t[0]===V.SYM_PS?Wt(e,t[1]):e.getElement(t[1]))&&s.pause&&s.pause();break;case V.SYM_PSA:case V.AV_PSA:(s=t[0]===V.SYM_PSA?Wt(e,t[1]):e.getElement(t[1]))&&(s.pause&&s.pause(),s.seek&&s.seek(t[2]));break;case V.SYM_TGP:case V.AV_TGP:(s=t[0]===V.SYM_TGP?Wt(e,t[1]):e.getElement(t[1]))&&s.pause&&s.play&&s.isPlaying&&(s.isPlaying()?s.pause():s.play());break;case V.SYM_SK:case V.AV_SK:(s=t[0]===V.SYM_SK?Wt(e,t[1]):e.getElement(t[1]))&&s.seek&&s.seek(t[2]);break;case V.AV_MUTE:(s=e.getElement(t[1]))&&s.setMuted&&s.setMuted(!0);break;case V.AV_VOL:(s=e.getElement(t[1]))&&s.setVolume&&s.setVolume(t[2]);break;case V.AV_TGMUTE:(s=e.getElement(t[1]))&&s.setMuted&&s.isMuted&&s.setMuted(!s.isMuted());break;case V.AV_MUTE_ALL:e.setMuted(!0);break;case V.VID_FS:(s=e.getElement(t[1]))&&s.playFullscreen&&s.playFullscreen();break;case V.ELEM_SHOW:(s=e.getElement(t[1]))&&s.show&&s.show(!0);break;case V.ELEM_HIDE:(s=e.getElement(t[1]))&&s.show&&s.show(!1);break;case V.ELEM_TGS:(s=e.getElement(t[1]))&&s.show&&s.isVisible&&s.show(!s.isVisible());break;case V.CHANGE_TEXT:(s=e.getElement(t[1]))&&s.setText&&s.setText(t[2]||"");break;case V.JUMP_TO_SCENE:var n;switch(void 0!==t[2]&&(n={transition:[t[2],t[3],t[4],t[5]]}),t[1]){case Z.FIRST:e.showFirstScene(n);break;case Z.LAST:e.showLastScene(n);break;case Z.NEXT:e.showNextScene(n);break;case Z.PREV:e.showPreviousScene(n);break;default:e.showScene(t[1],n)}break;case V.LINK:try{window.open(t[1],t[2]?"_blank":"_self")}catch(t){St(t)}break;case V.JS:return Bt(e.getFunction(t[1]),e,i)}}function Ht(t){if(typeof t===ot)return!1;switch(t[0]){case V.AV_MUTE_ALL:case V.JUMP_TO_SCENE:case V.LINK:case V.JS:return!1}return!0}function Yt(){return!1}function Ut(){return!0}at.customEvent=function(){if(window.CustomEvent)try{return void 0!==new CustomEvent("tmp")}catch(t){}return!1}();var Vt=bt({$init:function(t,e){t&&t.type?(this.domEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Ut:Yt):this.type=t,e&&yt(this,e)},isDefaultPrevented:Yt,isPropagationStopped:Yt,isImmediatePropagationStopped:Yt,preventDefault:function(){this.isDefaultPrevented=Ut;var t=this.domEvent;t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Ut;var t=this.domEvent;t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Ut;var t=this.domEvent;t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}});function Xt(t){var e=window.pageXOffset,i=window.pageYOffset,s=t.clientX,n=t.clientY;return 0===t.pageY&&Math.floor(n)>Math.floor(t.pageY)||0===t.pageX&&Math.floor(s)>Math.floor(t.pageX)?(s-=e,n-=i):(n<t.pageY-i||s<t.pageX-e)&&(s=t.pageX-e,n=t.pageY-i),{x:s,y:n}}yt(at,{touch:"ontouchend"in et,pointer:!!window.PointerEvent,msPointer:!!window.MSPointerEvent,orientation:"orientation"in window&&"onorientationchange"in window});var zt=at.touch,$t=zt?"touchstart":"mousedown",qt=zt?"touchend":"mouseup",Qt=zt?"touchmove":"mousemove",Zt={NONE:0,LEFT:1,RIGHT:2,UP:4,DOWN:8,HORIZONTAL:3,VERTICAL:12,ALL:15};function jt(t,e,i){switch(i=i||"",s=t,n=e,Math.abs(s)>=Math.abs(n)?s<0?Zt.LEFT:Zt.RIGHT:n<0?Zt.UP:Zt.DOWN){case Zt.LEFT:return i+"left";case Zt.RIGHT:return i+"right";case Zt.UP:return i+"up";case Zt.DOWN:return i+"down"}var s,n;return i}var Kt={swipe:{duration:1e3,distance:30,bind:function(){var t=this._domEventTarget("swipe"),e={},i=this,s=this._getBoundActions("swipe",!0);return t&&t.addEventListener?s.bind?(++s.bind,null):(s.bind=1,e.start=function(t){var s,n={time:Date.now(),pos:t.touches?Xt(t.touches[0]):{x:t.clientX,y:t.clientY}};e.move=function(t){if(n){if((s={time:Date.now(),pos:t.touches?Xt(t.touches[0]):{x:t.clientX,y:t.clientY}}).time-n.time>=Kt.swipe.duration)return this.removeEventListener(Qt,e.move,!1),this.removeEventListener(qt,e.stop,!1),e.move=e.stop=null,void(n=s=null);t.preventDefault()}},e.stop=function(t){this.removeEventListener(Qt,e.move,!1),this.removeEventListener(qt,e.stop,!1),e.move=e.stop=null,n&&s&&s.time-n.time<Kt.swipe.duration&&Math.abs(n.pos.x-s.pos.x)+Math.abs(n.pos.y-s.pos.y)>Kt.swipe.distance&&(i.fireEvent(jt(s.pos.x-n.pos.x,s.pos.y-n.pos.y,"swipe"),{start:n,stop:s}),i.fireEvent("swipe",{start:n,stop:s})),n=s=null},this.addEventListener(Qt,e.move,!1),this.addEventListener(qt,e.stop,!1)},t.addEventListener($t,e.start,!1),e):null},unbind:function(t,e){var i=this._domEventTarget("swipe"),s=this._getBoundActions("swipe",!0);s.bind&&(--s.bind,s.bind)||i&&i.removeEventListener&&e&&(e.start&&i.removeEventListener(Qt,e.start,!1),e.move&&i.removeEventListener(Qt,e.move,!1),e.stop&&i.removeEventListener(qt,e.stop,!1),e.start=e.move=e.stop=null)}}};function Jt(t,e,i,s,n){if((i||n)&&(typeof e!==nt&&(e=U[e]),!me.noHover||"mouseover"!=e&&"mouseout"!=e&&"mouseenter"!=e&&"mouseleave"!=e)){var o,r,a=t._getBoundActions(e,!0);if(n?a.bubble=!0:s?a._default=i:a.actions.push({action:i,status:a.firing>0?1:0}),!a.listener)Kt[e]&&Kt[e].bind&&(a.exListener=Kt[e].bind.call(t,e)),t._isDomEvent(e)&&(o=t._domEventTarget(e))&&o.addEventListener?(r=function(e){var i;return e.target!==e.currentTarget&&t.getDoc&&t.getDoc()&&(i=t.getDoc().findElementByDom(e.target)),ie(new Vt(e,{target:i||t,currentTarget:t,iData:e.iData}))},o.addEventListener(e,r,!1)):((r={id:"$event.handler"})[e]=function(t,i){return ie(new Vt(e,{target:t,currentTarget:t,iData:i}))},t.addObserver(r)),a.listener=r}}function te(t,e){Jt(t,e,!0,!1,!0)}function ee(t,e){var i,s=t._getBoundActions(e,!1);!s||s.actions.length||s._default||s.bubble||!s.listener||(Kt[e]&&Kt[e].unbind&&Kt[e].unbind.call(t,e,s.exListener),t._isDomEvent(e)&&(i=t._domEventTarget(e))&&i.addEventListener?i.removeEventListener(e,s.listener,!1):t.removeObserver(s.listener),s.listener=null)}function ie(t,e){var i,s,n,o=t.currentTarget,r=o&&o._getBoundActions(t.type,!1),a=r&&r.actions;if(a){for(i=o.getDoc&&o.getDoc(),void 0===e&&(e=i&&i.scene),++r.firing,s=0;s<a.length&&(0!==(n=a[s]).status||e&&e!==i.scene&&Ht(n.action)||(!1===Gt(n.action,i,t)&&t.preventDefault(),!t.isImmediatePropagationStopped()));++s);var h;if(!(h=o._parentEventTarget(t.type))||t.isPropagationStopped()||o._isDomEvent(t.type)||(t.currentTarget=h,ie(t,e),t.currentTarget=o),t.isDefaultPrevented()||!r._default||e&&e!==i.scene&&Ht(r._default)||Gt(r._default,i,t),--r.firing,0===r.firing){for(s=a.length-1;s>=0;--s)2===a[s].status?a.splice(s,1):a[s].status=0;a.length||r._default||!r.listener||ee(o,t.type)}return!t.isDefaultPrevented()&&void 0}}Kt.swipeleft=Kt.swiperight={bind:function(){return Kt.swipe.bind.call(this)},unbind:function(t,e){Kt.swipe&&Kt.swipe.unbind.call(this,t,e)}},Kt.swipeup=Kt.swipedown={bind:function(){return Kt.swipe?Kt.swipe.bind.call(this):null},unbind:function(t,e){Kt.swipe&&Kt.swipe.unbind.call(this,t,e)}},Kt.keydown=Kt.keyup={bind:function(t){var e=this._domEventTarget(t);e&&!e.hasAttribute("tabindex")&&(e.tabIndex=+e.tabIndex)}};var se={_getBoundActions:function(t,e){if(!this.$evtActions){if(!e)return null;this.$evtActions={}}var i=this.$evtActions[t];return!i&&e&&(i=this.$evtActions[t]={actions:[],firing:0,listener:null}),i},bind:function(t,e){Jt(this,t,e,!1)},bindOnce:function(t,e){if(e){var i=function(s,n){return this.unbind(t,i),Gt(e,s,n)};i.$orgHandler=e,this.bind(t,i)}},unbind:function(t,e){if(void 0!==t){typeof t!==nt&&(t=U[t]);var i=this.$evtActions&&this.$evtActions[t];if(i){var s,n=i.actions;if(e||0!==i.firing)for(s=n.length-1;s>=0;--s)n[s].action!==e&&e&&n[s].action.$orgHandler!==e||(i.firing>0?n[s].status=2:n.splice(s,1));else n.length=0;ee(this,t)}}else if(this.$evtActions)for(t in this.$evtActions)void 0!==t&&this.unbind(t,e)},fireEvent:function(t,e){var i,s,n,o,r,a;return typeof t!==nt&&(t=U[t]),this._isDomEvent(t)&&(i=this._domEventTarget(t))&&i.dispatchEvent?i.dispatchEvent((s=t,r=!0,a=!0,(n={iData:e})&&(void 0!==n.bubbles&&(r=n.bubbles),void 0!==n.cancelable&&(a=n.cancelable)),at.customEvent?o=new CustomEvent(s,{bubbles:r,cancelable:a}):(o=et.createEvent("Event")).initEvent(s,r,a),yt(o,n),o)):!1!==this.notifyObservers(t,e)},_bindAll:function(t){var e,i,s,n,o,r;if(t)for(e=0,i=t.length;e<i;++e)for(o=(r=t[e])[0],s=1,n=r.length;s<n;++s)this.bind(o,r[s])},_domEventTarget:function(t){return"resize"===t||"orientationchange"===t?window:this.dom},_isDomEvent:function(t){return Y.indexOf(t)<0},_parentEventTarget:function(){return null}},ne={ready:function(t){t?this.bindOnce("ready",t):this.isReady&&this.notifyObservers("ready")},bind:function(t,e){typeof t!==nt&&(t=U[t]),"ready"===t?e&&e.$orgHandler?(se.bind.call(this,t,e),this.isReady&&this.notifyObservers(t)):this.bindOnce(t,e):se.bind.call(this,t,e)}},oe={INITIAL:0,LOADING:1,LOADED:2,ERROR:3,TIMEOUT:4};function re(t,e,i){return function(s){t(!s),e.progress=1,s?s.type===i?(e.status=oe.LOADED,e.onload&&e.onload()):(e.status=oe.ERROR,St("Error loading "+e.url+", event "+s.type+(e.dom.error?", error "+e.dom.error.code:"")),e.onerror&&e.onerror()):(e.status=oe.TIMEOUT,St("Timeout loading "+e.url),e.ontimeout&&e.ontimeout()),e.oncomplete&&e.oncomplete()}}function ae(t){var e,i=t.dom||(t.dom=new Image),s=function(t){t||(i.removeEventListener("load",n,!1),i.removeEventListener("error",n,!1)),e&&clearTimeout(e)&&(e=null)},n=re(s,t,"load");return i.addEventListener("load",n,!1),i.addEventListener("error",n,!1),t.maxTime&&(e=setTimeout(n,1e3*t.maxTime)),t.cancel=function(){return s(!1),this.dom.src="",!0},t.progress=0,t.status=oe.LOADING,i.src=t.url,t}function he(t){var e,i,s=t.dom||(t.dom=et.createElement("audio"===t.type?"audio":"video")),n=function(t){t||(s.removeEventListener("canplaythrough",o,!1),s.removeEventListener("error",o,!1),s.removeEventListener("stalled",o,!1),s.removeEventListener("progress",i,!1)),e&&clearTimeout(e)&&(e=null)},o=re(n,t,"canplaythrough");return s.addEventListener("canplaythrough",o,!1),s.addEventListener("error",o,!1),t.maxTime?e=setTimeout(o,1e3*t.maxTime):s.addEventListener("stalled",o,!1),t.onprogress&&(i=function(){if(this.duration){var e,i,s=0;for(e=0;e<this.buffered.length;++e)s+=this.buffered.end(e)-this.buffered.start(e);(i=s/this.duration)>t.progress&&(t.progress=Math.min(i,1),t.onprogress&&t.onprogress(t.progress))}},s.addEventListener("progress",i,!1)),t.cancel=function(){return n(!1),this.dom.src="",!0},t.progress=0,t.status=oe.LOADING,s.preload="auto",s.src=t.url,s.load(),t}function le(t){var e,i=t.dom||(t.dom=et.createElement("css"==t.type?"link":"script")),s=re(function(t){t||(i.removeEventListener("load",s,!1),i.removeEventListener("error",s,!1)),e&&clearTimeout(e)&&(e=null)},t,"load");return i.addEventListener("load",s,!1),i.addEventListener("error",s,!1),t.maxTime&&(e=setTimeout(s,1e3*t.maxTime)),t.cancel=function(){return!1},t.progress=0,t.status=oe.LOADING,"css"==t.type?(i.rel="stylesheet",i.type="text/css",i.href=t.url):(i.type="text/javascript",i.src=t.url),(et.head||et.getElementsByTagName("head")[0]||et.documentElement).insertBefore(i,null),t}var de={li:!0},ce=bt(Lt,{$init:function(t){Lt.prototype.$init.call(this),this.started=!1,this.paused=!1,this.progress=0,this.complete=!1,this.items=[],this.loadingItems=[],this.nextIdx=0,this.loadedCount=0,this.options=yt({maxConnections:8,maxTime:0,maxItemTime:10,holdCompletion:!1,audioTags:[],videoTags:[]},t);var e=!1;(t=this.options).items&&(e=!0,this.add(t.items),delete t.items),this.paused=!!t.paused||!e,this.paused||this.load()},add:function(t){if(t){this.complete&&this.clear(),vt(t)||(t=[t]);var e,i,s,n,o=this,r=function(){var t=o.loadingItems.indexOf(this);t>-1&&(o.loadingItems.splice(t,1),++o.loadedCount,o._update()),o.notifyObservers("itemcomplete",this),o.paused||o.complete||o.load()},a=function(){o._update()};for(e=0,i=t.length;e<i;++e)(s=t[e])&&((n={url:s.url||s,progress:0,status:oe.INITIAL}).type=s.type||ce.getLoadType(n.url),s.id&&(n.id=s.id),n.oncomplete=r,n.onprogress=a,this.items.push(n));this.paused||this.load()}},load:function(t){if(this.add(t),this.paused=!1,!this.started&&(this.started=!0,this.notifyObservers("start"),this._update(),this.options.maxTime)){var e=this;this.timeoutId=setTimeout(function(){e.timeoutId=null,e.notifyObservers("timeout")},1e3*this.options.maxTime)}var i,s;for(i=this.nextIdx,s=this.items.length;i<s&&!(this.loadingItems.length>=this.options.maxConnections);++i)this.items[i].status===oe.INITIAL?this._loadItem(i):i===this.nextIdx&&++this.nextIdx},pause:function(){var t,e;if(!this.paused)for(this.paused=!0,t=this.loadingItems.length-1;t>=0;--t)(e=this.loadingItems[t])&&e.cancel()&&(this.loadingItems.splice(t,1),e.status===oe.LOADING&&(e.status=oe.INITIAL,this.nextIdx=0))},clear:function(){var t=this.paused;this.pause(),this.paused=t,this.started=this.complete=!1,this.progress=0,this.items.length=0,this.loadingItems.length=0,this.nextIdx=0,this.loadedCount=0},getProgress:function(){return this.progress},holdCompletion:function(t){void 0===t&&(t=!0),this.options.holdCompletion!==t&&(this.options.holdCompletion=t,t||this._update())},_update:function(){if(this.started&&!this.complete&&!this.paused){var t=0;if(this.items.length){var e,i;for(t=this.loadedCount,e=0,i=this.loadingItems.length;e<i;++e)t+=this.loadingItems[e].progress;t/=this.items.length}else t=1;t===this.progress&&0!==t||this.options.holdCompletion&&this.loadedCount===this.items.length||(this.progress=t,this.notifyObservers("progress",t)),this.options.holdCompletion||this.loadedCount!==this.items.length||(this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.complete=!0,this.notifyObservers("complete"))}},_loadItem:function(t){var e=this.items[t];if(e){e.maxTime=this.options.maxItemTime,this.loadingItems.push(e),this.notifyObservers("itemstart",this);var i=ce.getTypeLoader(e.type);i?i(e):(e.status=oe.ERROR,St("Error loading "+e.url+", no loader found"),e.oncomplete())}}},se,{getDoc:function(){return this.loaderDoc},_isDomEvent:function(){return!1}});function ue(t){var e=t.substr(t.lastIndexOf(".")+1).toLowerCase(),i=e.lastIndexOf("?");return i>-1&&(e=e.substring(0,i)),e}ce.getLoadType=function(t){var e=ue(t);switch(e){case"js":return"javascript";case"css":return"css";default:return"mp3 ogg oga aac m4a wav".indexOf(e)>=0?"audio":"mp4 m4v webm ogv".indexOf(e)>=0?"video":"image"}},ce.getTypeLoader=function(t){switch(t){case"image":return ae;case"audio":case"video":return he;case"javascript":case"css":return le}return null};var pe=new ce,fe=[],me={version:6,docVersions:[3,3],docs:[],topDocs:[],docLoader:pe,loadedDocs:[],unsupportedBrowser:!at.transform,isReady:!1,isCompatible:function(t){var e=t.v||this.docVersions[0];return this.docVersions[0]<=e&&e<=this.docVersions[1]},openDoc:function(t,e,i){if(i=i||{},this.unsupportedBrowser){if(!i.isPreloader){var s,n=function(t,e,i){var s,n;for(s=0;s<2&&(!e||(e[i]&&(n=e[i][t]),!n&&e._default&&(n=e._default[t]),!n));++s)e=me.messages;return n||""}("unsupportedBrowser");typeof e===nt&&(s=e,e=et.getElementById(s)),e?me.showMessage(n,e):s&&me.ready(function(){(e=et.getElementById(s))&&me.showMessage(n,e)})}return null}return new je(t,e,i)},closeDoc:function(t){t&&t.destroy()},findDoc:function(t,e){var i,s,n,o,r=e?this.docs:this.topDocs;if(typeof t===nt&&(o=t,t=et.getElementById(o)),!o&&!t)return null;for(i=0,s=r.length;i<s;++i)if(n=r[i],o&&n.containerId===o||t&&n.container===t)return n;return null},tick:function(t){for(var e=0,i=this.topDocs.length;e<i;++e)this.topDocs[e].tick(t)}};function ge(){ht?(et.removeEventListener("DOMContentLoaded",ge,!1),window.removeEventListener("load",ge,!1)):(ge.oldOnLoad&&ge.oldOnLoad(),window.onload===ge&&(window.onload=null)),me.isReady||(me.isReady=!0,me.ready())}yt(me,new Lt,se,ne,{bind:function(t,e){var i,s;if(ne.bind.call(this,t,e),typeof t!==nt&&(t=U[t]),"createdocument"===t)for(i=0,s=this.docs.length;i<s;++i)Gt(e,this.docs[i],new Vt(t,{target:this,currentTarget:this}))},_isDomEvent:function(){return!1}}),window.AtomiSaola&&(me.AtomiSaolaOld=window.AtomiSaola),window.AtomiSaola=me,ht&&window.addEventListener("resize",function(){var t,e;for(t=0,e=me.topDocs.length;t<e;++t)me.topDocs[t].layoutIfNeeded()},!1),"complete"===et.readyState?setTimeout(function(){me.isReady||(me.isReady=!0,me.ready())},0):ht?(et.addEventListener("DOMContentLoaded",ge,!1),window.addEventListener("load",ge,!1)):(ge.oldOnLoad=window.onload,window.onload=ge);var ve={FPS:60,INTERVAL:16,time:0,syncTimes:[],ticking:!1,timerId:null,isRunning:function(){return!!this.timerId},start:function(){this.stop(),this.timerId=requestAnimationFrame(_e)},stop:function(){this.ticking=!1,this.timerId&&(cancelAnimationFrame(this.timerId),this.timerId=null)},now:function(){var t=this.syncTimes;return this.ticking||(this.time=Date.now(),t.length=0),t.length?t[t.length-1]:this.time},pushSync:function(t){this.syncTimes.push(t)},popSync:function(){this.syncTimes.pop()}},ye=0;function _e(){var t,e;if(ve.now(),ve.ticking=!0,ve.timerId=requestAnimationFrame(_e),me.tick(ve.time),fe.length&&ve.time-ye>500)for(ye=ve.time,t=0,e=fe.length;t<e;++t)qe(fe[t]);ve.ticking=!1}var Te={instant:function(t){return t<1?0:1},linear:function(t){return t},inQuad:function(t){return t*t},outQuad:function(t){return t*(2-t)},inOutQuad:function(t){return t<.5?2*t*t:2*t*(2-t)-1},outInQuad:function(t){return t<.5?Te.outQuad(2*t)/2:1-Te.outQuad(2-2*t)/2},inCubic:function(t){return t*t*t},outCubic:function(t){return--t*t*t+1},inOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},outInCubic:function(t){return t<.5?Te.outCubic(2*t)/2:1-Te.outCubic(2-2*t)/2},inQuart:function(t){return t*t*t*t},outQuart:function(t){return 1- --t*t*t*t},inOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},outInQuart:function(t){return t<.5?Te.outQuart(2*t)/2:1-Te.outQuart(2-2*t)/2},inQuint:function(t){return t*t*t*t*t},outQuint:function(t){return 1+--t*t*t*t*t},inOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},outInQuint:function(t){return t<.5?Te.outQuint(2*t)/2:1-Te.outQuint(2-2*t)/2},inSine:function(t){return 1-Math.cos(t*Math.PI/2)},outSine:function(t){return Math.sin(t*Math.PI/2)},inOutSine:function(t){return-(Math.cos(t*Math.PI)-1)/2},outInSine:function(t){return t<.5?Te.outSine(2*t)/2:1-Te.outSine(2-2*t)/2},inExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},outExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},inOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},outInExpo:function(t){return t<.5?Te.outExpo(2*t)/2:1-Te.outExpo(2-2*t)/2},inCirc:function(t){return-(Math.sqrt(1-t*t)-1)},outCirc:function(t){return Math.sqrt(1-Math.pow(t-1,2))},inOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},outInCirc:function(t){return t<.5?Te.outCirc(2*t)/2:1-Te.outCirc(2-2*t)/2},inElastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*tt/15)},outElastic:function(t){return 1-Te.inElastic(1-t)},inOutElastic:function(t){return t<.5?Te.inElastic(2*t)/2:1-Te.inElastic(2-2*t)/2},outInElastic:function(t){return t<.5?Te.outElastic(2*t)/2:1-Te.outElastic(2-2*t)/2},inBack:function(t){return t*t*(2.70158*t-1.70158)},outBack:function(t){return(t-=1)*t*(2.70158*t+1.70158)+1},inOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},outInBack:function(t){return t<.5?Te.outBack(2*t)/2:1-Te.outBack(2-2*t)/2},inBounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)},outBounce:function(t){return 1-Te.inBounce(1-t)},inOutBounce:function(t){return t<.5?Te.inBounce(2*t)/2:1-Te.inBounce(2-2*t)/2},outInBounce:function(t){return t<.5?Te.outBounce(2*t)/2:1-Te.outBounce(2-2*t)/2}},we={"-1":"instant",0:"linear",1:"inQuad",2:"outQuad",3:"inOutQuad",4:"outInQuad",5:"inCubic",6:"outCubic",7:"inOutCubic",8:"outInCubic",9:"inQuart",10:"outQuart",11:"inOutQuart",12:"outInQuart",13:"inQuint",14:"outQuint",15:"inOutQuint",16:"outInQuint",17:"inSine",18:"outSine",19:"inOutSine",20:"outInSine",21:"inExpo",22:"outExpo",23:"inOutExpo",24:"outInExpo",25:"inCirc",26:"outCirc",27:"inOutCirc",28:"outInCirc",29:"inElastic",30:"outElastic",31:"inOutElastic",32:"outInElastic",33:"inBack",34:"outBack",35:"inOutBack",36:"outInBack",37:"inBounce",38:"outBounce",39:"inOutBounce",40:"outInBounce"};Te._default=Te.inOutQuad;var be=bt({$init:function(t){this.t=t[0],this.d=t[2]||0,this.actions=t[1]||[],this.fired=!1},getTimestamp:function(){return this.t},setup:function(t){this.fired=t.speed<0?this.t+this.d>t.ts:this.t<t.ts},reverse:function(t){t.speed<0?this.t+this.d!==t.ts&&(this.fired=this.t+this.d>t.ts):this.t!==t.ts&&(this.fired=this.t<t.ts)},fire:function(t){if(!this.fired){this.fired=!0;var e,i,s=this.actions,n=t.getDoc(),o=n&&n.scene,r={type:"timing",target:t,currentTarget:t};for(e=0,i=s.length;e<i;++e)o&&o!==n.scene&&Ht(s[e])||Gt(s[e],n,r)}}});var Se=bt({$init:function(t,e,i){this.tween=Se.createTween(t,e,i),this.t=e.t,this.d=e.d,this.complete=!1,this.setEasing(e.es)},setup:function(){this.complete=!1},reverse:function(){this.complete=!1},update:function(t){var e=t.ts,i=t.isPlayBackward();if(e<this.t){if(this.prev)return i&&(this.complete=!0),!1}else if(this.next&&e>=this.next.t)return i||(this.complete=!0),!1;return(e-=this.t)>=this.d?(e=1,i||(this.complete=!0)):e<=0?(e=0,i&&(this.complete=!0)):e=this.easing(e/this.d),this.tween.update(e),!0},setEasing:function(t){this.easing=typeof t===ot?t:Te[we[t]]||Te[t]||Te._default},getTimestamp:function(){return this.t},getDuration:function(){return this.d}}),Ee=bt(Se,{$init:function(t,e,i){Se.prototype.$init.call(this,t,e,i),this.isPlayback=!0;var s=this;this.timelineObs={play:function(t){s.isCurrent(t.ts,t.isPlayBackward(),!1)&&s.tween.update(t.ts-s.t,t,Pe.Flags.PLAYING)},pause:function(t){s.isCurrent(t.ts,t.isPlayBackward(),!1)&&s.tween.update(t.ts-s.t,t,Pe.Flags.PLAYING)},speedchange:function(t){s.isCurrent(t.ts,t.isPlayBackward(),!1)&&s.tween.update(t.ts-s.t,t,Pe.Flags.SPEED)}}},setup:function(t){this.complete=!1,this.isCurrent(t.ts,t.isPlayBackward(),!0)&&(this.tween.update(t.ts-this.t,t,Pe.Flags.ALL),(t.isPlayBackward()?t.ts<=this.t+this.d:t.ts>=this.t)&&(this.complete=!0))},reverse:function(t){this.complete=!1,this.isCurrent(t.ts,t.isPlayBackward(),!1)&&this.tween.update(t.ts-this.t,t,Pe.Flags.DIRECTION)},update:function(t){return!!this.isCurrent(t.ts,t.isPlayBackward(),!0)&&(t.ts===(t.isPlayBackward()?this.t+this.d:this.t)&&(this.tween.update(t.ts-this.t,t,Pe.Flags.ACTION),this.complete=!0),!0)},isCurrent:function(t,e,i){if(t<this.t){if(this.prev)return e&&i&&(this.complete=!0),!1}else if(this.next&&t>=this.next.t)return!e&&i&&(this.complete=!0),!1;return!0}}),xe=/[a-zA-Z%]+$/;function Ae(t){var e={unit:null};return typeof t===nt?(e.value=parseFloat(t),e.unit=t.match(xe),e.unit&&(e.unit=e.unit[0])):e.value=t,e}var De=bt({$init:function(t,e,i){if(this.elem=i,this.p=t,this.d=e.d,void 0!==e.u)this.s=e.s,this.e=e.e,this.u=e.u;else{var s=Ae(e.s),n=Ae(e.e);this.s=s.value,this.e=n.value,this.u=s.unit||n.unit}this.delta=this.e-this.s},update:function(t){this.elem.setProperty(this.p,this.s+this.delta*t,this.u)},getDuration:function(){return this.d}}),Ce={_default:function(t,e,i){return new De(t,e,i)}};Se.regTweenType=function(t){for(var e=arguments.length;--e>0;)Ce[arguments[e]]=t},Se.createTween=function(t){return(Ce[t]||Ce._default).apply(null,arguments)};var Re=bt(De,{update:function(t){this.elem.setProperty(this.p,t<1?this.s:this.e,this.u)}});Se.regTweenType(function(t,e,i){return new Re(t,e,i)},"d");var Pe=bt(De,{$init:function(t,e,i){De.prototype.$init.call(this,t,e,i),this.action=e.a[0],this.s=e.a[1],this.speed=e.a[2]||1},update:function(t,e,i){switch(this.action){case z:case X:case $:var s;i&Pe.Flags.PLAYING&&(s=!e.isPlaying()||(e.isPlayBackward()?t>this.d:t<0))&&this.elem.pause(),i&Pe.Flags.SPEED&&this.elem.setSpeed(Math.abs(e.getSpeed()*this.speed)),i&Pe.Flags.DIRECTION&&this.elem.setPlayBackward&&this.elem.setPlayBackward(this.speed<0!==e.isPlayBackward()),(i&Pe.Flags.TIME||i&Pe.Flags.TIMEACTION&&(this.action!==z||0!==t))&&this.elem.seek(this.s+this.speed*t),i&Pe.Flags.PLAYING&&!s&&this.elem.play();break;case q:case Q:i&Pe.Flags.PLAYING&&this.elem.pause(),(i&Pe.Flags.TIME||this.action===Q&&i&Pe.Flags.TIMEACTION)&&this.elem.seek(this.s)}}});Pe.Flags={TIME:1,TIMEACTION:2,PLAYING:4,SPEED:8,DIRECTION:16,ACTION:30,ALL:255},Se.regTweenType(function(t,e,i){return new Pe(t,e,i)},"pb");var Ie=bt(De,{$init:function(t,e,i){De.prototype.$init.call(this,t,e,i);var s,n=this.s[3],o=this.e[3];for(void 0===n&&(n=255),void 0===o&&(o=255),this._s=[],this._e=[],this.delta=[],s=0;s<3;++s)this._s[s]=this.s[s]*n,this._e[s]=this.e[s]*o,this.delta[s]=this._e[s]-this._s[s];this._s[3]=n,this._e[3]=o,this.delta[3]=o-n},update:function(t){var e,i,s=[],n=Et(this._s[3]+this.delta[3]*t,0,255);for(e=0;e<3;++e)i=this._s[e]+this.delta[e]*t,s[e]=i?Et(i/n,0,255):i;s[3]=n,this.elem.setProperty(this.p,s)}});function Me(t,e,i){var s=i*i,n=s*i,o=1-i,r=o*o,a=r*o,h=3*r*i,l=3*o*s;return{x:a*t[0]+h*t[4]+l*e[2]+n*e[0],y:a*t[1]+h*t[5]+l*e[3]+n*e[1]}}function ke(t,e,i,s,n){var o=Math.floor(i[s].t),r=(i[s].t+i[s+1].t)/2-o,a=Me(t,e,r),h={x:i[s].x,y:i[s].y},l={x:i[s+1].x,y:i[s+1].y},d=0;return(Oe(a,{x:(h.x+l.x)/2,y:(h.y+l.y)/2})>n||Oe(h,l)>4*n)&&(a.t=o+r,i.splice(s+1,0,a),d=1+ke(t,e,i,s+1,n),d+=ke(t,e,i,s,n)),d}function Oe(t,e){var i=e.x-t.x,s=e.y-t.y;return Math.sqrt(i*i+s*s)}Se.regTweenType(function(t,e,i){return new Ie(t,e,i)},"fc","lc","tc","thc","shc");var Ne=bt(De,{$init:function(t,e,i){De.prototype.$init.call(this,t,e,i),this.cpoints=e.cp,this.autoOrient=e.ao,this.createPath(),this.calcLen()},update:function(t){var e={};if(this.cpoints.length<2){if(1===this.cpoints.length){var i=this.cpoints[0];e.tX=i[0],e.tY=i[1],this.autoOrient&&(e.rZM=0),We.set(this.elem,e)}}else{var s=this.getT(t),n=Math.floor(s),o=this.cpoints,r=o.length-2;n<0?(n=0,s=0):(n>r&&(n=r),(s-=n)>1&&(s=1));var a,h,l,d,c,u,p,f,m,g,v=Me(o[n],o[n+1],s),y=s;y<1e-6?y=1e-6:y>.999999&&(y=.999999),c=o[n],u=o[n+1],f=(p=y)*p,h={x:3*(g=(m=1-p)*m)*(c[4]-c[0])+6*m*p*(u[2]-c[4])+3*f*(u[0]-u[2]),y:3*g*(c[5]-c[1])+6*m*p*(u[3]-c[5])+3*f*(u[1]-u[3])},d=180*Math.atan2(h.y,h.x)/tt,(t<0||t>1)&&(a=Math.sqrt(h.x*h.x+h.y*h.y))>0&&(l=t>1?t-1:t,v.x+=l*this.pathLen*h.x/a,v.y+=l*this.pathLen*h.y/a),e.tX=v.x,e.tY=v.y,this.autoOrient&&(e.rZM=d),We.set(this.elem,e)}},createPath:function(){if(this.path=[],0==this.d)return this.cpoints.length>0&&this.path.push({x:this.cpoints[0][0],y:this.cpoints[0][1],t:0}),void(this.cpoints.length>1&&this.path.push({x:this.cpoints[this.cpoints.length-1][0],y:this.cpoints[this.cpoints.length-1][1],t:1}));var t,e,i,s,n=this.cpoints,o=n.length-1,r=this.path;for(t=0;t<o;++t)for(e=0;e<4;++e)i=e/4,(s=Me(n[t],n[t+1],i)).t=t+i,r.push(s);for(o>=1&&((s=Me(n[o-1],n[o],1)).t=o,r.push(s)),t=o-1;t>=0;--t)for(e=3;e>=0;--e)ke(n[t],n[t+1],r,4*t+e,2)},calcLen:function(){this.path||this.createPath();var t,e=this.path,i=0,s=e.length-1;for(t=0;t<s;++t)e[t].l=i,i+=Oe(e[t],e[t+1]);s>=0&&(e[s].l=i),this.pathLen=i,this.lenTimes=[];var n,o,r=this.lenTimes,a=i,h=this.getDuration()>0?a*ve.INTERVAL/this.getDuration():a;if(this.stepLen=h,h>0)for(t=0,i=0;t<s;)if(e[t+1].l<i)++t;else if(n=e[t],o=e[t+1],r.push({l:i,t:o.l>n.l?n.t+(i-n.l)*(o.t-n.t)/(o.l-n.l):n.t}),(i+=h)>a)break;0==r.length&&r.push({l:0,t:0}),s>=0&&(r.length<2||r[r.length-1].t<e[s].t)&&r.push({l:a,t:e[s].t})},getT:function(t){this.lenTimes||this.calcLen();var e,i,s,n,o=t*this.pathLen,r=this.lenTimes,a=r.length;return 0==a?e=0:1==a?e=r[0].t:(s=r[i=this.stepLen>0?Math.min(Math.max(0,Math.floor(o/this.stepLen)),a-2):0],e=(n=r[i+1]).l>s.l?s.t+(o-s.l)*(n.t-s.t)/(n.l-s.l):s.t),e}});Se.regTweenType(function(t,e,i){return new Ne(t,e,i)},"pos");var Le=bt(Lt,{$init:function(t,e){Lt.prototype.$init.call(this),this.id=t.id,this.name=t.n,this.duration=t.dur,this.ts=0,this.startTime=void 0,this.paused=!0,this.complete=!1,this.speed=1,this.anims=[],this.labels=t.l||{},this.events=[],this.doc=e.getDoc(),this._DEF=t,this._id2Elem=e;var i,s,n=t.t||[];for(i=0,s=n.length;i<s;++i)this.events.push(new be(n[i]));this._recreateAnims(),this._bindAll(t.e)},_recreateAnims:function(){var t,e,i,s,n=this.anims;for(e=0,i=n.length;e<i;++e)(t=n[e]).isPlayback&&((s=this.events.indexOf(t.timingEvent))>=0&&this.events.splice(s,1),this.removeObserver(t.timelineObs));n.length=0;var o,r,a,h=this._DEF,l=this.doc.hBreakpoint,d=this.doc.vBreakpoint,c=h.ra||[];for(n=h.anims||[],e=0,i=c.length;e<i;++e)if((r=c[e])[0]==l&&r[1]==d){n=n.concat(r[2]);break}for(e=0,i=n.length;e<i;++e)(t=Le.createAnimation((a=n[e],We.getShortName(a.p)),n[e],this._id2Elem)).tween&&t.tween.elem?(t.isPlayback&&(t.timingEvent=new be([t.getTimestamp(),[],t.getDuration()]),this.addTimingEvent(t.timingEvent),this.addObserver(t.timelineObs)),this.anims.push(t),o&&o.tween.elem===t.tween.elem&&We.getShortName(o.tween.p)===We.getShortName(t.tween.p)?(t.prev=o,o.next=t):(t.prev=null,o&&(o.next=null)),o=t):t=o;t&&(t.next=null),this.duration=void 0,this.getDuration()},getDoc:function(){return this.doc},getTimestamp:function(){return this.ts},getLabelTimestamp:function(t){return this.labels[t]},getDuration:function(){if(void 0===this.duration){var t,e,i=0,s=this.anims.length,n=0;for(i=0;i<s;++i)n<(e=(t=this.anims[i]).t+t.d)&&(n=e);for(i=0,s=this.events.length;i<s;++i)n<(e=(t=this.events[i]).t+t.d)&&(n=e);for(i in this.labels)e=this.labels[i],!isNaN(e)&&n<e&&(n=e);this.duration=n}return this.duration},start:function(t,e){var i=e;void 0===i&&(i=this.speed<0),this.play(i?this.getDuration():0,t,e)},play:function(t,e,i){var s=this.doc.scene;void 0!==e&&this.setSpeed(e),void 0!==i&&this.setPlayBackward(i);var n=!1;this.paused&&(this.paused=!1,n=!0,this.notifyObservers("play")),typeof t===nt&&(t=this.labels[t]),void 0===t?n&&(void 0===this.startTime?this.seek(this.speed<0?this.duration||this.getDuration():0):(this.startTime=ve.now()-this.ts/(this.doc.getEffectiveSpeed()*this.speed),this.update(this.ts))):this.seek(t),s===this.doc.scene&&this._checkComplete()},pause:function(t){this.paused||(this.paused=!0,this.notifyObservers("pause")),typeof t===nt&&(t=this.labels[t]),void 0!==t&&this.seek(t)},isPlaying:function(){return!this.paused},seek:function(t){if(typeof t!==nt||void 0!==(t=this.labels[t])){var e,i,s=(t=Et(t,0,this.duration||this.getDuration()))!==this.ts||void 0===this.startTime,n=this.ts;if(this.ts=t,this.startTime=ve.now()-this.ts/(this.doc.getEffectiveSpeed()*this.speed),this.complete=!1,s){var o=this.events;for(e=0,i=o.length;e<i;++e)o[e].setup(this)}var r=this.anims;for(e=0,i=r.length;e<i;++e)r[e].setup(this);this.update(this.ts),s&&this.notifyObservers("seek",n)}},setSpeed:function(t){var e=Math.abs(this.speed);t>0&&t!==e&&(this.doSetSpeed(this.speed<0?-t:t),this.notifyObservers("speedchange",e))},doSetSpeed:function(t){if(0!==t&&t!==this.speed)if(this.paused||(this.startTime=ve.now()-this.ts/(this.doc.getEffectiveSpeed()*t)),this.speed*t<0){if(this.speed=t,void 0!==this.startTime){this.complete=!1;var e,i,s=this.events,n=this.anims;for(e=0,i=s.length;e<i;++e)s[e].reverse(this);for(e=0,i=n.length;e<i;++e)n[e].reverse(this)}}else this.speed=t},getSpeed:function(){return Math.abs(this.speed)},getEffectiveSpeed:function(){return this.doc.getEffectiveSpeed()*Math.abs(this.speed)},setPlayBackward:function(t){void 0===t&&(t=!0),!t!=this.speed>0&&(this.doSetSpeed(-this.speed),this.notifyObservers("reverse"))},isPlayBackward:function(){return this.speed<0},update:function(t){var e,i,s,n,o,r,a=this.events,h=this.anims,l=a.length,d=h.length,c=this.speed<0,u=!1,p=this.doc.getEffectiveSpeed()*this.speed,f=this.ts,m=this.doc.scene;if(t=Et(t,0,this.duration||this.getDuration()),this.ts=o=t,!this.paused)for(s=0;s<l;++s)if(e=a[c?l-1-s:s],r=c?e.t+e.d:e.t,!e.fired&&(c?r>=t:r<=t)){if((this.paused||c!==this.speed<0)&&o!==r)break;for(u=!0,this.ts=o=r,n=0;n<d;++n)(i=h[n]).complete||i.update(this);if(ve.pushSync(this.startTime+this.ts/p),e.fire(this),ve.popSync(),o!==this.ts||m!==this.doc.scene)return}if(!u)for(n=0;n<d;++n)(i=h[n]).complete||i.update(this);this.notifyObservers("update",f)},tick:function(t){if(!this.paused){var e=this.doc.scene;this.update((t-this.startTime)*this.doc.getEffectiveSpeed()*this.speed),e===this.doc.scene&&this._checkComplete()}},addTimingEvent:function(t){var e,i,s=t.getTimestamp(),n=this.events;for(e=0,i=n.length;e<i;++e)if(n[e].getTimestamp()>s)return void n.splice(e,0,t);n.push(t)},_checkComplete:function(){if((this.speed<0?this.ts<=0:this.ts>=this.duration)&&!this.paused){this.complete=!0;var t=this.doc.scene;this.pause(),this.complete&&this.doc.scene===t&&this.notifyObservers("complete")}},onLayoutSwitched:function(){this._recreateAnims(),void 0!==this.startTime&&this.seek(this.ts)}},se,{_isDomEvent:function(){return!1}}),Be={_default:function(t,e,i){return new Se(t,e,i.getElement(e.el))}};Le.regAnimType=function(t){for(var e=arguments.length;--e>0;)Be[arguments[e]]=t},Le.regAnimType(function(t,e,i){return new Ee(t,e,i.getElement(e.el))},"pb"),Le.createAnimation=function(t){return(Be[t]||Be._default).apply(null,arguments)};var Fe={bottom:"b",className:"cl",color:"tc",cursor:"c",display:"d",fill:"f",background:"f",fontFamily:"ff",fontSize:"fz",fontStyle:"fs",fontWeight:"fw",height:"h",backgroundPositionX:"iX",backgroundPositionY:"iY",letterSpacing:"ls",line:"l",border:"l",borderWidth:"lw",lineWidth:"lw",borderColor:"lc",lineColor:"lc",left:"lt",lineThrough:"strikeThrough",lineHeight:"lh",opacity:"o",overflow:"of",right:"rt",rotate:"rZ",rotateX:"rX",rotateY:"rY",rotateZ:"rZ",skewX:"skX",skewY:"skY",scaleX:"sX",scaleY:"sY",scaleZ:"sZ",textAlign:"ta",textColor:"tc",textHighlightColor:"thc",textDecoration:"td",textHAlign:"ta",textIndent:"ti",textVAlign:"tv",top:"tp",transformOriginX:"toX",transformOriginY:"toY",transformOriginZ:"toZ",translateX:"tX",translateY:"tY",translateZ:"tZ",width:"w",wordSpacing:"ws",volume:"vol",autoplay:"ap",loop:"lo",controls:"ct",preload:"pl",tabIndex:"tb",title:"tl",clipRectTop:"crt",clipRectRight:"crr",clipRectBottom:"crb",clipRectLeft:"crl",clipOvalVertex:"cov",clipOvalCoVertex:"coc",clipCircleRadius:"ccr",shadowBlurRadius:"shr",shadowAngle:"sha",shadowDistance:"shd",shadowColor:"shc",invertFilter:"fif",hueFilter:"fhf",contrastFilter:"fcf",brightnessFilter:"frf",saturateFilter:"fsf",sepiaFilter:"fpf",grayscaleFilter:"fgf",blurFilter:"fbf",perspectiveOriginX:"psoX",perspectiveOriginY:"psoY",perspectiveOriginZ:"psoZ"},We={setAnyProp:!0,getShortName:function(t){return Fe[t]||t},set:function(t,e,i){var s,n,o,r,a;if("object"==typeof e)for(s in e)e.hasOwnProperty(s)&&this.set(t,s,e[s]);else if((s=this.props[e])||(a=Fe[e],(s=this.props[a])&&(e=a)),s)s.c&&t._props[e]!==i&&(t._props[e]=i.slice?i.slice():i),s.s?s.s(t,i):s.p?(o=this.props[s.p],(r=t._props[s.p])||(r=t._props[s.p]=[]),r[o.c.indexOf(e)]=i,ve.ticking&&t.scene?t.scene._delayUpdate(s.p+t.id,function(){We.set(t,s.p,r)}):We.set(t,s.p,r)):(s.n&&(e=s.n),n=s.o&&t[s.o]||t.dom,"a"===s.a?n.setAttribute(e,i):("p"!==s.a&&(n=n.style,s.b&&(e=st[e]||(st[e]=dt(n,e)))),n[e]=this.prepare(s,i)));else if(this.setAnyProp)if(st[e]||(st[e]=dt(t.dom.style,e,!0)))t.dom.style[st[e]]=i;else if(e in t.dom)t.dom[e]=i;else try{t.dom.setAttribute(e,i)}catch(t){St(t.toString())}},prepare:function(t,e){var i,s,n;if(t.c)if(vt(e)){for(s=0,n=t.c.length,i="";s<n;++s)i+=this.prepare(this.props[t.c[s]],e[s])+" ";i=i.trim()}else i=e;else{if(void 0===(i=e)){if(void 0===t.v||t.e)return"";i=t.v}else if(""===i)return i;if(t.e&&(i==t.v||t.u&&i==t.v+t.u))return"";t.d&&(i/=t.d),t.u&&xt(i)&&(i+=t.u),t.f&&(i=t.f.replace("{1}",i))}return i},defaultValue:function(t){var e=this.props[t];return e&&e.v},props:{cl:{s:function(t,e){t.setClass(e)},v:""},c:{s:function(t,e){t.setCursor(e)},v:"auto"},d:{s:function(t,e){t.show(e)},v:1},o:{n:"opacity",d:100,v:100},of:{s:function(t,e){t.setOverflow(e)},v:"visible"},r:{s:function(t,e){var i=e[4];i==l||i==d?t.setRight(e[0]):t.setLeft(e[0]),i==c||i==d?t.setBottom(e[1]):t.setTop(e[1]);var s,n,o=Ae(e[2]),r=Ae(e[3]);"a"===o.unit&&(o.value/=100),"a"===r.unit&&(r.value/=100),s=!(n="a"===r.unit)&&"a"===o.unit,t.setAutoWidth(s).setAutoHeight(n),(n||s)&&(t._aspectRatio=n?r.value:o.value),s||t.setWidth(e[2]),n||t.setHeight(e[3])}},tp:{s:function(t,e){t.setTop(e)}},b:{s:function(t,e){t.setBottom(e)}},lt:{s:function(t,e){t.setLeft(e)}},rt:{s:function(t,e){t.setRight(e)}},w:{s:function(t,e){var i=t._autoW;t.setWidth(e),t._autoW=i}},h:{s:function(t,e){var i=t._autoH;t.setHeight(e),t._autoH=i}},to:{n:"transformOrigin",b:1,c:["toX","toY","toZ"]},toX:{p:"to",u:"%",v:50},toY:{p:"to",u:"%",v:50},toZ:{p:"to",u:"px",v:0},tf:{n:"transform",b:1,c:["tX","tY","tZ","rX","rY","rZ","rZM","skX","skY","sX","sY","sZ"],o:"childrenContainer"},tX:{p:"tf",u:"px",v:0,e:1,f:"translateX({1})"},tY:{p:"tf",u:"px",v:0,e:1,f:"translateY({1})"},tZ:{p:"tf",u:"px",v:0,e:1,f:"translateZ({1})"},rX:{p:"tf",u:"deg",v:0,e:1,f:"rotateX({1})"},rY:{p:"tf",u:"deg",v:0,e:1,f:"rotateY({1})"},rZ:{p:"tf",u:"deg",v:0,e:1,f:"rotateZ({1})"},rZM:{p:"tf",u:"deg",v:0,e:1,f:"rotateZ({1})"},skX:{p:"tf",u:"deg",v:0,e:1,f:"skewX({1})"},skY:{p:"tf",u:"deg",v:0,e:1,f:"skewY({1})"},sX:{p:"tf",d:100,v:100,e:1,f:"scaleX({1})"},sY:{p:"tf",d:100,v:100,e:1,f:"scaleY({1})"},sZ:{p:"tf",d:100,v:100,e:1,f:"scaleZ({1})"},t:{v:[],s:function(t,e){var i,s=(e=e||[])[4];s&&s.length||(s=""),We.set(t,"to",s),(s=[]).length=12,(i=t._props.tf)&&(s[6]=i[6]),(i=e[0])&&(i[0]&&(s[3]=i[0]),i[1]&&(s[4]=i[1]),i[2]&&(s[5]=i[2])),(i=e[2])&&(i[0]&&(s[7]=i[0]),i[1]&&(s[8]=i[1])),(i=e[1])&&(100!==i[0]&&(s[9]=i[0]),100!==i[1]&&(s[10]=i[1]),100!=i[2]&&(s[11]=i[2])),(i=e[3])&&(i[0]&&(s[0]=i[0]),i[1]&&(s[1]=i[1]),i[2]&&(s[2]=i[2])),We.set(t,"tf",s)}},s:{v:[M.RECT],s:function(t,e){t._setPath&&t._setPath(e)}},l:{v:[u],s:function(t,e){t._props.l=e.slice();var i=e[0];switch(i){case p:i="solid";break;case f:i="dotted";break;case m:i="dashed";break;default:i="none"}t.setBorderStyle(i),e.length>1&&t.setBorderWidth(e[1]),e.length>2&&t.setBorderColor(e[2],e[3],e[4],e[5])}},lw:{s:function(t,e){t.setBorderWidth(e),t._updateClipRectIfNeed()}},lc:{s:function(t,e){typeof e===nt?t.setBorderColor(e):t.setBorderColor(e[0],e[1],e[2],e[3])}},f:{v:[g],s:function(t,e){switch(e[0]){case v:t.fillSolid(e[1],e[2],e[3],e[4]);break;case y:e[1]==A?t.fillRadialGradient(e[2],e[3],e[4],e[5],e[6]):t.fillLinearGradient(e[2],e[3]);break;case _:t.fillImage(e[1],e[2],e[3],e[4]);break;default:t.fillNone()}}},fc:{s:function(t,e){typeof e===nt?t.fillSolid(e):t.fillSolid(e[0],e[1],e[2],e[3])}},ga:{s:function(t,e){t.fillLinearGradient(e)}},gX:{s:function(t,e){t.fillRadialGradient(e)}},gY:{s:function(t,e){t.fillRadialGradient(void 0,e)}},rs:{s:function(t,e){var i=t.getDoc();i&&t.setResource(i.getResource(e))}},ff:{n:"fontFamily",o:"textDom"},fs:{n:"fontStyle",o:"textDom"},italic:{s:function(t,e){(t.textDom||t.dom).style.fontStyle=e?"italic":"normal"}},fw:{n:"fontWeight",o:"textDom"},bold:{s:function(t,e){(t.textDom||t.dom).style.fontWeight=e?"bold":"normal"}},fz:{n:"fontSize",o:"textDom",u:"px"},ta:{s:function(t,e){if(typeof e!==nt)switch(e){case N.LEFT:e="left";break;case N.RIGHT:e="right";break;case N.JUSTIFY:e="justify";break;default:e="center"}(t.textDom||t.dom).style.textAlign=e}},tv:{s:function(t,e){if(t.textDom){var i=t.textDom.style,s=st.transform||(st.transform=dt(i,"transform"));switch(e){case"top":case N.TOP:i.top=0,i.bottom="auto",i[s]="";break;case"bottom":case N.BOTTOM:i.top="auto",i.bottom=0,i[s]="";break;default:i.top="50%",i.bottom="auto",i[s]="translateY(-50%)"}}}},tc:{s:function(t,e){(t.textDom||t.dom).style.color=typeof e===nt?e:Rt(e[0],e[1],e[2],e[3])}},thc:{s:function(t,e){(t.textDom||t.dom).style.backgroundColor=typeof e===nt?e:Rt(e[0],e[1],e[2],e[3])}},td:{n:"textDecoration",o:"textDom"},underline:{s:function(t,e){Ot(t.textDom||t.dom,"underline",e)}},strikeThrough:{s:function(t,e){Ot(t.textDom||t.dom,"line-through",e)}},ws:{n:"wordSpacing",o:"textDom",u:"px"},ls:{n:"letterSpacing",o:"textDom",u:"px"},ti:{n:"textIndent",o:"textDom",u:"px"},lh:{n:"lineHeight",o:"textDom",d:100},txt:{v:[""],s:function(t,e){var i="";e[7]?i=e[8]?"underline line-through":"underline":e[8]&&(i="line-through"),t.setText(e[0]),We.set(t,{ff:e[1],fz:e[2],tc:e[3],thc:e[4],fw:e[5],italic:e[6],td:i,ta:e[9],tv:e[10],lh:e[11],ti:e[12],ws:e[13],ls:e[14]})}},ir:{s:function(t,e){t.setBgImg(e)},v:[0,0,"100%","100%"]},iX:{s:function(t,e){t.setBgImgX(e)}},iY:{s:function(t,e){t.setBgImgY(e)}},iW:{s:function(t,e){t.setBgImgW(e)}},iH:{s:function(t,e){t.setBgImgH(e)}},vol:{s:function(t,e){t.setVolume(e)}},ap:{s:function(t,e){t.setAutoplay&&t.setAutoplay(e)}},lo:{s:function(t,e){t.setLoop(e)}},ct:{a:"p",n:"controls",o:"mediaDom"},pl:{s:function(t,e){t.mediaDom.preload=typeof e===nt?e:e?"auto":"metadata"}},url:{s:function(t,e){t.setUrl(e)}},lr:{v:[0,0,0,0],s:function(t,e){e=e||[],t._props.lr=e.slice(),t.setTopLeftRadius(e[0]||0),t.setTopRightRadius(e[1]||0),t.setBottomLeftRadius(e[2]||0),t.setBottomRightRadius(e[3]||0)}},tlr:{s:function(t,e){t.setTopLeftRadius(e)}},trr:{s:function(t,e){t.setTopRightRadius(e)}},blr:{s:function(t,e){t.setBottomLeftRadius(e)}},brr:{s:function(t,e){t.setBottomRightRadius(e)}},wc:{v:[],s:function(t,e){e=e||[],t.setClipShape(e),t._fixRefreshingBug()}},crt:{s:function(t,e){t.setClipRectTop(e)}},crr:{s:function(t,e){t.setClipRectRight(e)}},crb:{s:function(t,e){t.setClipRectBottom(e)}},crl:{s:function(t,e){t.setClipRectLeft(e)}},cov:{s:function(t,e){t.setClipOvalVertex(e)}},coc:{s:function(t,e){t.setClipOvalCoVertex(e)}},ccr:{s:function(t,e){t.setClipCircleRadius(e)}},srcdoc:{s:function(t,e){t.setSrcDoc(e)}},tb:{a:"p",n:"tabIndex"},tl:{s:function(t,e){t.setTitle(e)},v:""},sh:{v:[],s:function(t,e){(e=e||[]).length>0?(t.applyShadow(e[0],e[1],e[2],e[3],e[4],e[5],e[6]),t._fixRefreshingBug()):t.clearShadow()}},shr:{s:function(t,e){t.setShadowBlurRadius(e)}},sha:{s:function(t,e){t.setShadowAngle(e)}},shd:{s:function(t,e){t.setShadowDistance(e),t._fixRefreshingBug()}},shc:{s:function(t,e){typeof e===nt?t.setShadowColor(e):t.setShadowColor(e[0],e[1],e[2],e[3])}},fif:{s:function(t,e){t.setFilter("invert","mediaDom",e)}},fhf:{s:function(t,e){t.setFilter("hue-rotate","mediaDom",e)}},fcf:{s:function(t,e){t.setFilter("contrast","mediaDom",e)}},frf:{s:function(t,e){t.setFilter("brightness","mediaDom",e)}},fsf:{s:function(t,e){t.setFilter("saturate","mediaDom",e)}},fpf:{s:function(t,e){t.setFilter("sepia","mediaDom",e)}},fgf:{s:function(t,e){t.setFilter("grayscale","mediaDom",e)}},fbf:{s:function(t,e){t.setFilter("blur","mediaDom",e)}},fe:{v:[0,0,100,100,100,0,0,0],s:function(t,e){var i=[0,0,100,100,100,0,0,0];e=e||i;var s=[];s.length=8;for(var n=0;n<8;++n)e[n]!==i[n]&&(s[n]=e[n]);t.setFilter("mediaDom",s)}},psoX:{s:function(t,e){t.setPerspectiveX&&t.setPerspectiveX(e)}},psoY:{s:function(t,e){t.setPerspectiveY&&t.setPerspectiveY(e)}},psoZ:{s:function(t,e){t.setPerspectiveZ&&t.setPerspectiveZ(e)}},pso:{v:[50,50,1200],s:function(t,e){t.setPerspective&&(e=e||[50,50,1200],t.setPerspective(e[0],e[1],e[2]))}}}},Ge=bt(Lt,{$init:function(t,e){Lt.prototype.$init.call(this),void 0===this.id&&(this.id=t.id),this.name=t.n,this._DEF=t,this._props={},this.parent=null,this.scene=e,this.elems=[],this.domId=e.genDomId(this);var i=this.dom=this.create(),s=i.style;i.id=this.domId,s.position="absolute",e.transformStyle&&(s[st.transformStyle]=e.transformStyle);var n,o,r,a,h=t.elems||[];for(n=0,o=h.length;n<o;++n)a=h[n],r=He.createElem(a.k,a,e),this.addChild(r);var l=We.setAnyProp;We.setAnyProp=!1,We.set(this,t),We.setAnyProp=l,this._normLayoutProps(),this._setLayoutProps(),this._bindAll(t.e)},create:function(){var t=et.createElement("div");return t.style.pointerEvents="auto",t},_onRemoved:function(t){var e,i,s,n=this.scene;for(e=0,i=this.elems.length;e<i;++e)this.elems[e]._onRemoved(t);this.dom.style.backgroundImage="none",this._onRemovedFromDoc&&this._onRemovedFromDoc(),n&&t&&(n.mapIdElems[this.id]===this&&delete n.mapIdElems[this.id],n.mapNameElems[this.name]===this&&delete n.mapNameElems[this.name],n.mapDomIdElems[this.domId]===this&&delete n.mapDomIdElems[this.domId],this.tick&&(s=n.dynElems.indexOf(this))>-1&&n.dynElems.splice(s,1),this.scene=null)},remove:function(){if(this._onRemoved(this!==this.scene),this.parent){var t=this.parent.elems.indexOf(this);t>-1&&this.parent.elems.splice(t,1),this.parent=null}this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom)},getScene:function(){return this.scene},getDoc:function(){return this.scene?this.scene.getDoc():null},_onAdded:function(){var t,e,i=this.scene;for(i&&(i.mapIdElems[this.id]=this,i.mapNameElems[this.name]=this,i.mapDomIdElems[this.domId]=this,this.tick&&i.dynElems.push(this)),t=0,e=this.elems.length;t<e;++t)this.elems[t]._onAdded()},addChild:function(t){t&&((this.childrenContainer||this.dom).appendChild(t.dom),t.parent=this,this.elems.push(t),t._onAdded())},setProperty:function(t,e,i){We.set(this,t,i?e+i:e)},show:function(t){void 0===t&&(t=!0),typeof t!==nt||"off"!==t&&"none"!==t||(t=!1),this.dom.style.display=t?"block":"none",t?this._checkIfResized():(this._w&&(this._w=0),this._h&&(this._h=0))},isVisible:function(){return this.dom.offsetWidth>0||this.dom.offsetHeight>0},setCursor:function(t){this.dom.style.cursor=t},setOverflow:function(t){if(typeof t!==nt)switch(t){case R:t="visible";break;case P:t="hidden";break;case I:t="scroll";break;default:t="auto"}this._setOverflow4Container(t),this._setOverflow4Text(t)},_setOverflow4Container:function(t){this.textContainer||kt(this.dom,t)},_setOverflow4Text:function(t){this.textContainer?(kt(this.textContainer,t),this.dom.style.overflow="visible"):(this.removeObserver("text.overflow"),this.addObserver({id:"text.overflow",_initText:function(e){e.textContainer&&(kt(e.textContainer,t),e.dom.style.overflow="visible",e.removeObserver("text.overflow"))}}))},setPosition:function(t,e){var i=this.dom.style;i.left=xt(t)?t+"px":t,i.top=xt(e)?e+"px":e,i.right="auto",i.bottom="auto"},setAutoWidth:function(t){return this._autoW=t,t&&(this._autoH=!1,this._aspectRatio=(this.dom.clientWidth||this._w)/(this.dom.clientHeight||this._h)||0),this},setAutoHeight:function(t){return this._autoH=t,t&&(this._autoW=!1,this._aspectRatio=(this.dom.clientWidth||this._w)/(this.dom.clientHeight||this._h)||0),this},setLeft:function(t){var e=this.dom.style;e.left=xt(t)?t+"px":t,e.right="auto"},setRight:function(t){var e=this.dom.style;e.right=xt(t)?t+"px":t,e.left="auto"},setTop:function(t){var e=this.dom.style;e.top=xt(t)?t+"px":t,e.bottom="auto"},setBottom:function(t){var e=this.dom.style;e.bottom=xt(t)?t+"px":t,e.top="auto"},setSize:function(t,e){var i=this.dom.style;if(i.width=xt(t)?t+"px":t,i.height=xt(e)?e+"px":e,this._autoW=this._autoH=!1,this._checkIfResized(),lt){var s=this.dom.style[st.clipPath];s&&"none"!==s&&this._fixRefreshingBug()}},setWidth:function(t){if(this.dom.style.width=xt(t)?t+"px":t,this._autoW=!1,this._checkIfResized(),lt){var e=this.dom.style[st.clipPath];e&&"none"!==e&&this._fixRefreshingBug()}},setHeight:function(t){if(this.dom.style.height=xt(t)?t+"px":t,this._autoH=!1,this._checkIfResized(),lt){var e=this.dom.style[st.clipPath];e&&"none"!==e&&this._fixRefreshingBug()}},setBorderStyle:function(t){this.dom.style.borderStyle=t,gt||this.refreshShadow()},setBorderWidth:function(t){this.dom.style.borderWidth=xt(t)?t+"px":t},setBorderColor:function(t,e,i,s){this.dom.style.borderColor=Rt(t,e,i,s)},fillNone:function(){this.fillType=g;var t=this.dom.style;t.backgroundColor="transparent",t.backgroundImage="none",this.refreshShadow()},fillSolid:function(t,e,i,s){this.fillType=v;var n=this.dom.style;n.backgroundColor=Rt(t,e,i,s),n.backgroundImage="none",this.refreshShadow()},fillImage:function(t,e,i,s){this.fillType=_,this.refreshShadow(),this._imageFillData?(this._imageFillData[1]=e,this._imageFillData[2]=i,this._imageFillData[3]=s):this._imageFillData=["",e,i,s];var n=null;if(typeof t==nt?n=t:-1!=t&&(n=this.getDoc().getResource(t)),n&&n!==this._imageFillData[0])this._imageFillData[0]=n;else if(!n)return this._imageFillData[0]="",this.dom.style.backgroundImage="none",void(this.dom.style.backgroundColor="transparent");this.dom.style.backgroundImage='url("'+n.replace(/"/g,'\\"')+'")',this.dom.style.backgroundRepeat="no-repeat",this.dom.style.backgroundPosition="center",e===T?this.dom.style.backgroundSize="100% 100%":e===S?(this.dom.style.backgroundPosition="left top",this.dom.style.backgroundRepeat="repeat",this.dom.style.backgroundSize="auto"):e===b?this.dom.style.backgroundSize="contain":e===E?this.dom.style.backgroundSize="cover":e===w&&(this.dom.style.backgroundSize="auto",this.dom.style.backgroundPosition="center"),this.dom.style.backgroundColor="transparent"},fillLinearGradient:function(t,e){if(at.gradient.linear){this.fillType=y,this.refreshShadow();var i,s,n,o=this.dom.style,r=!e,a=[],h=at.gradient.linear+"("+(at.gradient.prefixed?90-t:t)+"deg";if(r){if(!this._gradient||this._gradient[0]!=x)return;e=this._gradient[1]}else this._gradient=[x];for(i=0,s=e.length;i<s;++i)n=e[i],r||a.push(n.slice()),h+=", "+Rt(n[1],n[2],n[3],n[4])+" "+n[0]+"%";h+=")",r||this._gradient.push(a),o.backgroundImage=h,o.backgroundColor="transparent"}else if(e&&e[0]){var l=e[0];this.fillSolid(l[1],l[2],l[3],l[4])}},fillRadialGradient:function(t,e,i,s,n){if(at.gradient.radial&&!at.gradient.prefixed){this.fillType=y,this.refreshShadow();var o,r,a,h,l=this.dom.style,d=!i,c=[],u="radial-gradient(";if(d){if(!this._gradient||this._gradient[0]!=A)return;void 0===t?t=this._gradient[1]:this._gradient[1]=t,void 0===e?e=this._gradient[2]:this._gradient[2]=e,i=this._gradient[3],s=this._gradient[4],n=this._gradient[5]}else this._gradient=[A,t,e];switch(u+=s==D.CIRCLE?"circle":"ellipse",n){case C.CLOSE_CORNER:h="closest-corner";break;case C.CLOSE_SIDE:h="closest-side";break;case C.FAR_SIDE:h="farthest-side";break;default:h="farthest-corner"}for(u+=" "+h+" at "+t+"% "+e+"%",o=0,r=i.length;o<r;++o)a=i[o],d||c.push(a.slice()),u+=", "+Rt(a[1],a[2],a[3],a[4])+" "+a[0]+"%";u+=")",d||(this._gradient.push(c),this._gradient.push(s),this._gradient.push(n)),l.backgroundImage=u,l.backgroundImage.toLowerCase().indexOf(h)<0&&(l.backgroundImage=u.replace(t+"%",t+1+"%"),l.backgroundImage=u),l.backgroundColor="transparent"}else if(i&&i[0]){var p=i[0];this.fillSolid(p[1],p[2],p[3],p[4])}},setResource:function(t){},setTitle:function(t){this.dom.title=t},setClipShape:function(t){var e,i;if(at.clipPath)if(!vt(t)||t.length<=0||t[0]==j&&5!=t.length||t[0]==J&&3!=t.length||t[0]==K&&2!=t.length)this.dom.style[st.clipPath]="",this._props.wc=[];else switch(this._props.wc=t,t[0]){case j:e="inset(";for(var s=1;s<5;++s)e+=(i=Ae(t[s])).unit?t[s]:i.value+"px",4!=s&&(e+=" ");e+=")",this.dom.style[st.clipPath]=e;break;case J:e="ellipse(",e+=((i=Ae(t[1])).unit?t[1]:i.value+"px")+" ",e+=(i=Ae(t[2])).unit?t[2]:i.value+"px",e+=" at 50% 50%)",this.dom.style[st.clipPath]=e;break;case K:e="circle(",e+=(i=Ae(t[1])).unit?t[1]:i.value+"px",e+=" at 50% 50%)",this.dom.style[st.clipPath]=e}else if(vt(t)&&5==t.length&&t[0]==j){if(t[0]===j){this._props.wc=t;var n=getComputedStyle(this.dom,null),o=Ae(n.width).value,r=Ae(n.height).value,a=Ae(n.borderTopWidth).value||0;o+=2*a,r+=2*a,"%"===(i=Ae(t[1])).unit&&(i.value=r*i.value/100),e="rect("+i.value+"px, ","%"===(i=Ae(t[2])).unit?i.value=o-o*i.value/100:i.value=o-i.value,e+=i.value+"px, ","%"===(i=Ae(t[3])).unit?i.value=r-r*i.value/100:i.value=r-i.value,e+=i.value+"px, ","%"===(i=Ae(t[4])).unit&&(i.value=o*i.value/100),e+=i.value+"px)",this.dom.style.clip=e}}else this.dom.style.clip="",this._props.wc=[]},_updateClipRectIfNeed:function(){var t=this._props.wc;t&&t[0]===j&&!at.clipPath&&this.setClipShape(this._props.wc)},setClipRectTop:function(t){var e=this._props.wc;5!=this._props.wc.length&&(e=[j,0,0,0,0]),e[1]=t,this.setClipShape(e)},setClipRectRight:function(t){var e=this._props.wc;5!=this._props.wc.length&&(e=[j,0,0,0,0]),e[2]=t,this.setClipShape(e)},setClipRectBottom:function(t){var e=this._props.wc;5!=this._props.wc.length&&(e=[j,0,0,0,0]),e[3]=t,this.setClipShape(e)},setClipRectLeft:function(t){var e=this._props.wc;5!=this._props.wc.length&&(e=[j,0,0,0,0]),e[4]=t,this.setClipShape(e)},setClipOvalVertex:function(t){var e=this._props.wc;if(3!=this._props.wc.length&&at.clipPath){var i=getComputedStyle(this.dom,null),s=Ae(i.width).value,n=Ae(i.height).value;e=[J,s/4,n/2]}e[1]=t,this.setClipShape(e)},setClipOvalCoVertex:function(t){var e=this._props.wc;if(3!=this._props.wc.length&&at.clipPath){var i=getComputedStyle(this.dom,null),s=Ae(i.width).value,n=Ae(i.height).value;e=[J,s/4,n/2]}e[2]=t,this.setClipShape(e)},setClipCircleRadius:function(t){var e=this._props.wc;2!=this._props.wc.length&&at.clipPath&&(e=[K,0]),e[1]=t,this.setClipShape(e)},_fixRefreshingBug:function(){if(lt){var t,e,i=this.dom.style,s=1e-4,n=0,o=[],r=!1;if(this._fixTranslateAdded||(s=-s),this._fixTranslateAdded=!this._fixTranslateAdded,i.transform){var a=/[+-]?\d+(?:\.\d+)?/g;for(t=(o=i.transform.split(" ")).length;n<t;++n)if((e=o[n]).indexOf("translateX")>=0){e=+a.exec(e),e+=s,r=!0;break}r||(e=s)}else e=s;e="translateX("+e+"px)",r?o[n]=e:o.push(e),o=o.join(" "),i.transform=o}},_fixShadowText:function(){if(!gt){var t,e=void 0!==this._shadowRadius&&this.fillType==g,i=this.textContainer;if(i)if(t=i.style,e){var s=this._shadowDistance*Math.cos(this._shadowAngle/180*Math.PI),n=this._shadowDistance*Math.sin(this._shadowAngle/180*Math.PI),o=this._shadowColor.substring(4,this._shadowColor.length-1).replace(/ /g,"").split(","),r="rgba("+o[0]+", "+o[1]+", "+o[2]+", "+this._shadowAlpha/255+")";t.textShadow=s+"px "+n+"px "+this._shadowRadius+"px "+r}else t.textShadow=""}},clearShadow:function(){if(void 0!==this._shadowRadius)if(delete this._shadowRadius,delete this._shadowAngle,delete this._shadowDistance,delete this._shadowColor,delete this._shadowAlpha,gt){var t=this.dom.style[st.filter];-1!=t.indexOf("drop-shadow")&&(this.dom.style[st.filter]=t.replace(/\s*drop-shadow\(([^()]*|\([^()]*\))*\)/,"").trim())}else this.dom.style.boxShadow="",this._fixShadowText()},refreshShadow:function(){void 0!==this._shadowRadius&&this.applyShadow(this._shadowRadius,this._shadowAngle,this._shadowDistance,this._shadowColor,this._shadowAlpha)},applyShadow:function(t,e,i,s,n,o,r){if(void 0!==t){var a;this._shadowRadius=t,this._shadowAngle=e,this._shadowDistance=i,typeof s===nt?(this._shadowColor=s,this._shadowAlpha=n,a=s.replace("rgb(","rgba(").replace(")",","+n/255+")")):(a=Rt(s,n,o,r),this._shadowColor=Rt(s,n,o),this._shadowAlpha=r);var h,l=i*Math.cos(e/180*tt),d=i*Math.sin(e/180*tt);if(gt){var c=this.dom.style[st.filter];h="drop-shadow("+l+"px "+d+"px "+t+"px "+a+")",c=-1!=c.indexOf("drop-shadow")?c.replace(/drop-shadow\(([^()]*|\([^()]*\))*\)/,h):c?h+" "+c:h,this.dom.style[st.filter]=c}else this.fillType!=g||!this.textContainer||this.dom.style.borderStyle&&"none"!=this.dom.style.borderStyle?(h=l+"px "+d+"px "+4*t+"px 0px "+a,this.dom.style.boxShadow=h):this.dom.style.boxShadow="",this._fixShadowText()}else this.clearShadow()},setShadowBlurRadius:function(t){var e=void 0===this._shadowAngle?45:this._shadowAngle,i=void 0===this._shadowDistance?10:this._shadowDistance,s=void 0===this._shadowColor?"rgb(0, 0, 0)":this._shadowColor,n=void 0===this._shadowAlpha?128:this._shadowAlpha;this.applyShadow(Ae(t).value,e,i,s,n)},setShadowAngle:function(t){var e=void 0===this._shadowRadius?5:this._shadowRadius,i=void 0===this._shadowDistance?10:this._shadowDistance,s=void 0===this._shadowColor?"rgb(0, 0, 0)":this._shadowColor,n=void 0===this._shadowAlpha?128:this._shadowAlpha;this.applyShadow(e,Ae(t).value,i,s,n)},setShadowDistance:function(t){var e=void 0===this._shadowRadius?5:this._shadowRadius,i=void 0===this._shadowAngle?45:this._shadowAngle,s=void 0===this._shadowColor?"rgb(0, 0, 0)":this._shadowColor,n=void 0===this._shadowAlpha?128:this._shadowAlpha;this.applyShadow(e,i,Ae(t).value,s,n)},setShadowColor:function(t,e,i,s){var n=void 0===this._shadowRadius?5:this._shadowRadius,o=void 0===this._shadowAngle?45:this._shadowAngle,r=void 0===this._shadowDistance?10:this._shadowDistance,a=Rt(t,e,i);this.applyShadow(n,o,r,a,s)},setFilter:function(){this._filter||(this._filter={});var t,e,i,s,n,o="",r="invert hue-rotate contrast brightness saturate sepia grayscale blur".split(" "),a="% deg % % % % % px".split(" ");if(3===arguments.length){var h=arguments[0];for(i=arguments[2],t=this[t=arguments[1]]||this.dom,this._filter[h]=void 0===i||typeof i==nt?i:i+a[r.indexOf(h)],s=0,n=r.length;s<n;++s)void 0!==(e=this._filter[r[s]])&&(o+=r[s]+"("+e+") ")}else if(2===arguments.length)for(t=this[t=arguments[0]]||this.dom,i=arguments[1],s=0,n=r.length;s<n;++s)void 0!==(e=i[s])&&typeof e!=nt&&(e+=a[s]),this._filter[r[s]]=e,void 0!==e&&(o+=r[s]+"("+e+") ");if(gt&&void 0!==this._shadowRadius){var l=this._shadowDistance*Math.cos(this._shadowAngle/180*tt),d=this._shadowDistance*Math.sin(this._shadowAngle/180*tt),c=this._shadowColor;c=c.replace("rgb(","rgba(").replace(")",","+this._shadowAlpha/255+")"),o="drop-shadow("+l+"px "+d+"px "+this._shadowRadius+"px "+c+") "+o}o=o.trim(),t.style[st.filter]=o},_initText:function(){if(!this.textDom){this.textContainer=et.createElement("div");var t=this.textContainer.style;t.position="absolute",t.left=t.top=t.right=t.bottom=0,this.textDom=et.createElement("div"),this.textDom.id=this.dom.id+"-text",(t=this.textDom.style).position="absolute",t.left=t.right=0,t.wordWrap="break-word",t.minHeight="10px",this.textContainer.appendChild(this.textDom),this.dom.appendChild(this.textContainer),this.textDom.ownerElement=this,this.notifyObservers("_initText")}},setText:function(t){this.textDom||this._initText(),this.textDom.innerHTML=t},_checkIfResized:function(){var t=this.dom.offsetWidth,e=this.dom.offsetHeight;if(t!==this._w||e!==this._h){var i=t-this._w,s=e-this._h;this._w=t,this._h=e,this._onResized(i,s);var n,o,r=this.elems;for(n=0,o=r.length;n<o;++n)r[n]._checkIfResized()}},_onResized:function(t,e){(this._autoH||this._autoW)&&(this._aspectRatio?this._autoH?t&&(this.setHeight(this.dom.clientWidth/this._aspectRatio),this._autoH=!0):e&&(this.setWidth(this._aspectRatio*this.dom.clientHeight),this._autoW=!0):this._aspectRatio=this.dom.clientWidth/this.dom.clientHeight||0),this.refreshShadow()},_getPropsData:function(){if(!this._DEF.rp)return this._DEF;var t,e,i,s=this.getDoc().hBreakpoint,n=this.getDoc().vBreakpoint,o=this._DEF.rp,r=null;for(e=0,i=o.length;e<i;++e){if((t=o[e])[0]==s&&t[1]==n)return t[2];0==t[0]&&0==t[1]&&(r=t[2])}return r},_normLayoutProps:function(){var t,e,i,s,n,o,r=this._DEF.rp,a={};if(r&&!r.normed){for(e=0,i=r.length;e<i;++e){if(n=(s=r[e])[2],0==s[0]&&0==s[1]&&(o=n,1==i))return void(r.normed=!0);for(t in n)a[t]=1}for(o||(o={},r.push([0,0,o])),e=0,i=r.length;e<i;++e){n=r[e][2];for(t in a)t in n||(n==o||n.or&&n.or.indexOf(t)>=0?n[t]=We.defaultValue(t):(t in o||(o[t]=We.defaultValue(t)),n[t]=o[t]))}r.normed=!0}},_setLayoutProps:function(){if(this._DEF.rp){var t=this._getPropsData();if(t){var e=We.setAnyProp;We.setAnyProp=!1,We.set(this,t),We.setAnyProp=e}}},onLayoutSwitched:function(){this._setLayoutProps();var t,e,i=this.elems;for(t=0,e=i.length;t<e;++t)i[t].onLayoutSwitched()},addClass:function(t){Mt(this.dom,t,!0)},removeClass:function(t){Mt(this.dom,t,!1)},setClass:function(t){this.dom.className=t},hasClass:function(t){var e=this.dom;return e.classList?e.classList.contain(t):(" "+e.className+" ").replace(Pt," ").indexOf(" "+t+" ")>-1},toggleClass:function(t){var e,i=this.dom,s=t.match(It)||[],n=s.length;if(!(n<1))if(i.classList)for(e=0;e<n;++e)i.classList.toggle(s[e]);else{var o=(" "+i.className+" ").replace(Pt," ");for(e=0;e<n;++e){var r=s[e];if(o.indexOf(" "+r+" ")<0)o+=r+" ";else for(;o.indexOf(" "+r+" ")>=0;)o=o.replace(" "+r+" "," ");i.className=o.trim()}}}},se,{_parentEventTarget:function(t){return"scripterror"===t?this.parent||this.scene:null}}),He=bt(Ge,{$init:function(t,e){this.id=0,this.sceneId=t.id,this.autoAdvance=t.aa,this.doc=e,this.mapIdElems={0:this},this.mapNameElems={},this.mapDomIdElems={},this.dynElems=[],this.perspective={x:50,y:50,z:1200},Ge.prototype.$init.call(this,t,this),this.mapDomIdElems[this.domId]=this,this.timelines=[];var i,s,n=t.timelines;for(n&&n.length||(n=[{dur:0}]),i=0,s=n.length;i<s;++i)this.timelines.push(new Le(n[i],this));this.dom.style[st.transformStyle]="",e.dom.appendChild(this.dom),et.getElementById(this.dom.id)&&this._checkIfResized(),Jt(this,"sceneactivate",function(){this.dom.hasAttribute("tabindex")||(this.dom.tabIndex=0),this.dom.style.outline="none",this.doc&&!this.doc.parent&&(this._getBoundActions("keydown",!1)||this._getBoundActions("keyup",!1))&&this.dom.focus({preventScroll:!0})},!0)},create:function(){var t=et.createElement("div");if(lt||this._DEF.t3d){this.transformStyle="preserve-3d",this.childrenContainer=et.createElement("div");var e=this.childrenContainer.style;e.position="absolute",e.left=0,e.top=0,e.width="100%",e.height="100%",e[st.transformStyle]=this.transformStyle,e.pointerEvents="none",t.appendChild(this.childrenContainer)}return t},fillNone:function(){Ge.prototype.fillNone.call(this),this.dom.style.pointerEvents=""},fillSolid:function(t,e,i,s){Ge.prototype.fillSolid.call(this,t,e,i,s),this.dom.style.pointerEvents="auto"},fillImage:function(t,e,i,s){Ge.prototype.fillImage.call(this,t,e,i,s),this.dom.style.pointerEvents="auto"},fillLinearGradient:function(t,e){Ge.prototype.fillLinearGradient.call(this,t,e),this.dom.style.pointerEvents="auto"},fillRadialGradient:function(t,e,i,s,n){Ge.prototype.fillRadialGradient.call(this,t,e,i,s,n),this.dom.style.pointerEvents="auto"},_onRemovedFromDoc:function(){this.doc&&(this.doc.prevScene===this&&(this.doc.prevScene=null),this.doc.scene===this&&(this.doc.scene=null),this.doc=null)},isAutoAdvance:function(){return this.autoAdvance},getDoc:function(){return this.doc},start:function(t,e){var i=this.getTimeline(e);return!!i&&(i.play(t),!0)},play:function(t,e,i){var s=this.getTimeline(i);return!!s&&(s.play(t,e),!0)},pause:function(t){var e=this.getTimeline(t);return!!e&&(e.pause(),!0)},seek:function(t,e){var i=this.getTimeline(e);return!!i&&(i.seek(t),!0)},getTimeline:function(t){if(void 0===t)return this.getMainTimeline();var e,i,s=this.timelines,n=typeof t===nt?"name":"id";for(e=0,i=s.length;e<i;++e)if(s[e][n]===t)return s[e];return null},getTimelines:function(){return this.timelines},getMainTimeline:function(){return this.timelines[0]||null},tick:function(t){var e,i,s=this.timelines,n=this.dynElems;for(e=0,i=n.length;e<i;++e)n[e].tick(t);for(e=0,i=s.length;e<i;++e)s[e].tick(t);for(e in this._delayUpdates)this._delayUpdates[e]();this._delayUpdates={}},getElement:function(t){return typeof t===nt?this.mapNameElems[t]:this.mapIdElems[t]},getElementsByClassName:function(t){var e,i,s=this.dom.getElementsByClassName(t),n=[];for(e=0,i=s.length;e<i;++e){var o=this.findElementByDom(s[e]);o&&n.push(o)}return n},findElementByDom:function(t){var e;for(typeof t===nt&&(t=et.getElementById(t));t;){if(e=this.mapDomIdElems[t.id])return e;t=t.parentNode}return null},genDomId:function(t){return t===this?this.doc.genSceneDomId():this.doc.genElemDomId()},setSize:function(t,e){var i=this.dom.style,s=this.doc.dom.style,n=Ae(t),o=Ae(e);"%"===n.unit?(s.width=t,i.width="100%"):s.width=i.width=n.unit?t:t+"px","%"===o.unit?(s.height=e,i.height="100%"):s.height=i.height=o.unit?e:e+"px",this.doc.options.autofit&&this.doc.fit(),this._checkIfResized()},setWidth:function(t){var e=this.dom.style,i=Ae(t);"%"===i.unit?e.width="100%":(i.unit||(t+="px"),e.width=t),this.doc._setWidth(t),this._checkIfResized()},setHeight:function(t){var e=this.dom.style,i=Ae(t);"%"===i.unit?e.height="100%":(i.unit||(t+="px"),e.height=t),this.doc._setHeight(t),this._checkIfResized()},_delayUpdate:function(t,e){this._delayUpdates||(this._delayUpdates={}),this._delayUpdates[t]=e},_parentEventTarget:function(){return this.doc},onLayoutSwitched:function(){Ge.prototype.onLayoutSwitched.call(this)},setPerspectiveX:function(t){this.setPerspective(t,this.perspective.y,this.perspective.z)},setPerspectiveY:function(t){this.setPerspective(this.perspective.x,t,this.perspective.z)},setPerspectiveZ:function(t){this.setPerspective(this.perspective.x,this.perspective.y,t)},setPerspective:function(t,e,i){t=Ae(t).value,e=Ae(e).value,i=Ae(i).value,this.perspective={x:t,y:e,z:i};var s=this.dom.style;s[st.perspectiveOrigin]=this.perspective.x+"% "+this.perspective.y+"%",s[st.perspective]=this.perspective.z+"px"}}),Ye={_default:function(t,e){return new Ge(t,e)}};He.regElemType=function(t){for(var e=arguments.length;--e>0;)Ye[arguments[e]]=t},He.createElem=function(t){var e=Ye[t]||Ye._default;return e?e.apply(null,Array.prototype.slice.call(arguments,1)):null};var Ue=bt({$init:function(t,e,i){this.oldScene=t,this.newScene=e,this.oldSceneProps={},this.newSceneProps={},this.playScene=!0;var s=null;if(t?s=t.getDoc():e&&(s=e.getDoc()),i&&i.length&&i[1]||(i=[L,0]),this._DEF=i,this.doc=s,s){var n,o,r=this._createAnims(),a={dom:s.dom,setProperty:Ge.prototype.setProperty,setWidth:function(t){s._setWidth(xt(t)?t+"px":t)},setHeight:function(t){s._setHeight(xt(t)?t+"px":t)}};for(n=0,o=r.length;n<o;++n)yt(r[n],{t:0,d:i[1],es:i[2]});this.timeline=new Le({dur:r.length?i[1]:0,anims:r},{getElement:function(i){return 1===i?t:2===i?e:a},getDoc:function(){return s}});var h=this;this.timeline.addObserver({complete:function(){h._onComplete()}})}},start:function(t,e,i){if(this.doc){var s=this.timeline,n=this._DEF[0]===L;e&&s.setPlayBackward(!0),this._onStart(),s.paused=!!i,e||this._onSceneChanged(),this.doc.transition===this&&(s.paused=!0,void 0===t&&(t=e?s.getDuration():0),s.seek(t),this.playScene=!0,n?(this.playScene=!i,s.play()):i||s.play())}},goToEnd:function(){if(this.doc){var t=this.timeline;t.complete||(this.playScene=t.isPlaying(),t.play(t.isPlayBackward()?0:t.getDuration()))}},_onSceneChanged:function(){var t,e;this.timeline.isPlayBackward()?(t=this.newScene,e=this.oldScene):(t=this.oldScene,e=this.newScene),t&&(te(t,"scenedeactivate"),t.notifyObservers("scenedeactivate",{scene:t,newScene:e})),this.doc.scene=e,this.doc.sceneIndex=e?e._DEF.index:-1,e&&(te(e,"sceneactivate"),e.notifyObservers("sceneactivate",{scene:e,oldScene:t}))},_onStart:function(){},_onComplete:function(){var t,e,i;this.doc.transition===this&&(this.doc.transition=null),this.timeline.isPlayBackward()&&this._onSceneChanged(),this.timeline.isPlayBackward()?(t=this.newScene,e=this.oldScene,i=this.oldSceneProps):(t=this.oldScene,e=this.newScene,i=this.newSceneProps),t&&t.remove(),e&&(e.setProperty(i),e.getMainTimeline().setPlayBackward(this.timeline.isPlayBackward()),this.playScene&&e.play())},_createAnims:function(){return[]}});Tt(Ue.prototype,"timeline",["play","pause","seek","setSpeed","setPlayBackward","isPlaying","isPlayBackward","getDuration"]);var Ve={_default:function(t,e,i){return new Ue(t,e,i)}};He.regTransType=function(t){for(var e=arguments.length;--e>0;)Ve[arguments[e]]=t},He.createTransition=function(t){var e=Ve[t]||Ve._default;return e?e.apply(null,Array.prototype.slice.call(arguments,1)):null};var Xe=bt(Ue,{_onStart:function(){var t,e,i,s,n,o,r,a,h,l=this.doc.dom.style;this.newScene?(r=this.newScene.dom.style,t=this.newScene.dom.offsetWidth,s=this.newScene.dom.offsetHeight,this.oldScene?(a=this.oldScene.dom.style,e=this.oldScene.dom.offsetWidth,n=this.oldScene.dom.offsetHeight):(e=t,n=s)):(t=e=this.oldScene.dom.offsetWidth,s=n=this.oldScene.dom.offsetHeight,a=this.oldScene.dom.style),t!==e&&(i=Math.max(e,t),l.width=i+"px",r&&(r.width=t+"px",this.doc.options.center&N.HCENTER&&(r.left=(i-t)/2+"px")),a&&(a.width=e+"px",this.doc.options.center&N.HCENTER&&(a.left=(i-e)/2+"px"))),s!==n&&(o=Math.max(n,s),l.height=o+"px",r&&(r.height=s+"px",this.doc.options.center&N.VCENTER&&(r.top=(o-s)/2+"px")),a&&(a.height=n+"px",this.doc.options.center&N.VCENTER&&(a.top=(o-n)/2+"px"))),Ue.prototype._onStart.call(this),this.oldScene&&((h=this.oldSceneProps).left=h.top=0,h.width=this.oldScene.doc.dom.style.width,h.height=this.oldScene.doc.dom.style.height),this.newScene&&((h=this.newSceneProps).left=h.top=0,h.width=this.newScene.doc.dom.style.width,h.height=this.newScene.doc.dom.style.height)},_createAnims:function(){var t,e=[];return this.newScene&&(t=this.newScene.dom.style.opacity,e.push({el:2,p:"o",s:0,e:""===t?100:100*t}),""===t&&(this.newSceneProps.opacity="")),this.oldScene&&(t=this.oldScene.dom.style.opacity,e.push({el:1,p:"o",s:""===t?100:100*t,e:0}),""===t&&(this.oldSceneProps.opacity="")),e}});He.regTransType(function(t,e,i){return new Xe(t,e,i)},B);var ze=bt(Xe,{_onStart:function(){this.doc.dom.style.overflow="hidden",Xe.prototype._onStart.call(this)},_onComplete:function(){Xe.prototype._onComplete.call(this),this.doc.dom.style.overflow=""},_createAnims:function(){var t,e,i,s,n,o=[],r=this._DEF[3];return r===G||r===H?(this.newScene?(e=this.newScene.dom.offsetHeight,t=this.oldScene?this.oldScene.dom.offsetHeight:e):e=t=this.oldScene.dom.offsetHeight,n="h",i=r===G?-e:t,s="tp"):(this.newScene?(e=this.newScene.dom.offsetWidth,t=this.oldScene?this.oldScene.dom.offsetWidth:e):e=t=this.oldScene.dom.offsetWidth,n="w",i=r===W?-e:t,s="lt"),t!==e&&o.push({el:3,p:n,s:t,e:e}),this.newScene&&o.push({el:2,p:s,s:i,e:0}),this.oldScene&&o.push({el:1,p:s,s:0,e:-i}),o}});He.regTransType(function(t,e,i){return new ze(t,e,i)},F);var $e=String.fromCharCode;function qe(t){var e,i,s,n,o=t.doc,r=t.node,a={position:"absolute",display:"block",zIndex:(o.scene&&parseInt(getComputedStyle(o.scene.dom,null).zIndex)||0)+1e3},h=15,l="a";h+="px",l+="lt",r||(t.node=r=et.createElement("img"),e="pointer",e+="Event",e+="s",r.style[e]="none"),s="da",s+="ta",s+=":i",s+="ma",s+="ge",s+="/p",s+="ng",s+=";b",s+="as",s+="e6",s+="4,",s+=o._DEF.wm,e="min",i="20",i+="0px",a[e+="Width"]=i,e="min",i="50",i+="px",a[e+="Height"]=i,r.src!==s&&(r.src=s),r[l]=$e(83,97,111,108,97,32,65,110,105,109,97,116,101),a.top=a.right=h,a.left="auto";for(n in a)r.style[n]=a[n];r.parentNode&&r.parentNode===o.dom||o.dom.appendChild(r)}var Qe=/^sl-(doc|scene|elem)-/,Ze=/^(?:[a-z]+:)?\/\//i,je=bt(Lt,{$init:function(t,e,i){Lt.prototype.$init.call(this),this.contentState="loading",this.isReady=!1,this.destroyed=!1,this.hBreakpoint=0,this.vBreakpoint=0;var s,n,o=t=t||{};if(typeof t===nt&&(s=t,o={}),this._DEF=o,typeof e===nt?(n=e,e=et.getElementById(e)):e&&(n=e.id),this.containerId=n,this.container=e,typeof(i=yt({center:N.HCENTER},i)).center===nt)switch(i.center){case"horizontal":i.center=N.HCENTER;break;case"vertical":i.center=N.VCENTER;break;case"both":i.center=N.HCENTER|N.VCENTER;break;default:i.center=N.NONE}this.options=i;var r=et.createElement("div"),a=r.style,h=this;this.dom=r,r.id="sl-doc-"+(n?n.replace(Qe,""):"")+"-"+Dt(),this.domId=r.id,a.position="absolute",a.width="100%",a.height="100%",a.WebkitTapHighlightColor="transparent",this._idPool=0,this.speed=i.speed?i.speed:1,i.backward&&(this.speed=-this.speed),this.eSpeed=Math.abs(this.speed),this.volume=isNaN(i.volume)?1:Et(i.volume,0,1),this.eVolume=this.volume,this.muted=!!i.muted,this.eMuted=!1,this.scene=null,this.prevScene=null,this.sceneIndex=-1,this.parent=i.parentElement||null,Nt(r,i.center),e?e.appendChild(r):n&&me.ready(function(){h.destroyed||((e=et.getElementById(n))?(h.container=e,e.appendChild(r),h.layoutIfNeeded()):St("Not found container id "+n))});var l,d=this.getParentDoc();if(d&&(l={id:h,eSpeed:function(){h._updateESpeed()},eVolume:function(){h._updateEVolume()},eMuted:function(){h._updateEMuted()}},d.addObserver(l),this.addObserver({destroy:function(t){var e=t.getParentDoc();e&&e.removeObserver(l)}})),this._updateESpeed(),this._updateEVolume(),this._updateEMuted(),ve.isRunning()||ve.start(),!lt&&(!i.parentElement&&!i.isPreloader||s||o.resources)){var c=new ce({holdCompletion:!0});this.preloader=c,c.loadingDoc=this,c.bind("start",function(){this.loaderDoc&&(this.loaderDoc.show(),this.loaderDoc.start())}),c.bind("complete",function(){this.loaderDoc&&this.loaderDoc.show(!1);var t=this.loadingDoc,e=t.options;if(!e.isPreloader&&!t.scene&&!t.transition){var i={paused:e.paused,sceneTime:e.sceneTime,backward:e.backward};if(void 0===i.paused&&(i.paused=!!t.parent),typeof e.scene===nt)t.showScene(e.scene,i);else{var s=e.scene;void 0===s&&(s=e.backward?t.getScenesData().length-1:0),t.showSceneAt(s,i)}}})}if(c&&!i.isPreloader){var u=new je(i.preloaderDoc||de,this.dom,{isPreloader:!0,center:i.center,autofit:i.autofit,preloaderOptions:i.preloaderOptions}),p={create:function(t){t.loader=c,t.loadingIndicator&&c.bind("progress",function(){this.loaderDoc&&this.loaderDoc.loadingIndicator&&this.loaderDoc.loadingIndicator.setText(Math.floor(100*this.progress)+"%")}),t.removeObserver(p),c._bindAll(t._DEF.pe)}};c.loaderDoc=u,"loading"===u.contentState?u.addObserver(p):p.create(u)}var f=me.getDoc;me.getDoc=function(){return h};var m=!me.fireEvent("createdocument");f?me.getDoc=f:delete me.getDoc,m?this.destroy():(this.parent||this.options.isPreloader||me.topDocs.push(this),me.docs.push(this),c&&c.load(),s?(pe.bind("itemcomplete",function t(e,i){var s=i.iData;if(s&&s.id===h.domId)if(i.stopImmediatePropagation(),s.status===oe.TIMEOUT);else{if(pe.unbind("itemcomplete",t),s.status===oe.LOADED){var n=me.loadedDocs.shift();n?h._DEF=n:(h.contentState="error",alert("Error parsing the document. Check the browser console for more information."))}else h.contentState="error";h._inited()}}),pe.load({url:s,type:"javascript",id:this.domId})):this._inited())},_inited:function(){if(!this.destroyed){var t;if("error"!==this.contentState)if(me.isCompatible(this._DEF))this._DEF.li&&me.CanvasLoader&&(this.loadingIndicator=new me.CanvasLoader(this.dom,yt({zIndex:1},this._DEF.li,this.options.preloaderOptions)),this.loadingIndicator.show()),this.contentState="loaded",this._bindAll(this._DEF.e);else t=me.docVersions[0]===me.docVersions[1]?"This document (version "+this._DEF.v+") is incompatible with the player which supports documents version "+me.docVersions[0]:"This document (version "+this._DEF.v+") is incompatible with the player which supports documents from version "+me.docVersions[0]+" to version "+me.docVersions[1],me.showMessage(t,this.dom),this._incompatibleDEF=this._DEF,this._DEF={},this.contentState="incompatible";var e,i=this._DEF.scenes,s=0,n=0;if(i){for(s=i.length,e=0;e<s;++e)i[e].index=e;s>0&&i[0].elems&&(n=i[0].elems.length||0)}if("loaded"==this.contentState&&!this.parent&&!this.options.isPreloader){var o=this._DEF.k;if(isNaN(o)||(16711935&o)!=(16711935&(s<<16|n))){var r={doc:this};fe.push(r),qe(r)}}if(this.layoutIfNeeded(),this.notifyObservers("create"),"loaded"===this.contentState){if(et.getElementById(this.domId)===this.dom)this.isReady||(this.isReady=!0,this.ready());else{var a=this;me.ready(function(){et.getElementById(a.domId)===a.dom&&(a.isReady||(a.isReady=!0,a.ready()))})}if(this.preloader)this.preloader.add(function(t){var e,i,s,n,o,r,a,h,l=t._DEF,d=[];if(l&&l.cssUrl&&d.push({url:l.cssUrl,type:"css"}),l&&l.googleFontIncludeHeader&&d.push({url:l.googleFontIncludeHeader,type:"css"}),l&&l.resources)for(e=0,i=(a=l.resources).length;e<i;++e)switch(o=a[e],h=t.getResourceFolder(o[1]),o[1]){case O.IMAGE:d.push({url:Ze.test(o[3])?o[3]:h+o[3],type:"image"});break;case O.AUDIO:case O.VIDEO:for(r=o[1]===O.AUDIO?"audio":"video",s=0,n=(o=o[3]).length;s<n;++s)if(at[r][ue(o[s])]){d.push({url:Ze.test(o[s])?o[s]:h+o[s],type:r});break}}return d}(this)),this.preloader.holdCompletion(!1);else if(!this.scene&&!this.transition){var h={paused:this.options.paused,sceneTime:this.options.sceneTime,backward:this.options.backward};if(void 0===h.paused&&(h.paused=!!this.parent),typeof this.options.scene===nt)this.showScene(this.options.scene,h);else{var l=this.options.scene;void 0===l&&(l=this.options.backward?this.getScenesData().length-1:0),this.showSceneAt(l,h)}}}else this.preloader&&this.preloader.holdCompletion(!1)}},destroy:function(){(function(t,e){typeof e!==nt&&(e=U[e]);var i=t._getBoundActions(e,!1);return!(!i||!i._default)})(this,"destroy")||Jt(this,"destroy",function(t,e){this.destroyed=!0;var i=me.docs.indexOf(this);i>-1&&me.docs.splice(i,1),(i=me.topDocs.indexOf(this))>-1&&me.topDocs.splice(i,1),this.parent&&(this.parent.sym=null,this.parent=null),this.preloader&&this.preloader.loaderDoc&&(this.preloader.loaderDoc.destroy(),this.preloader.loaderDoc=null),this.scene=this.transition=null,this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.removeObservers()},!0),this.notifyObservers("destroy")},_setWidth:function(t){this.dom.style.width=t,this.options.autofit&&this.fit()},_setHeight:function(t){this.dom.style.height=t,this.options.autofit&&this.fit()},fit:function(){if(this.container&&this.dom.clientWidth&&this.dom.clientHeight){this.container.style.overflow="hidden";var t,e,i=this.container.clientWidth,s=this.container.clientHeight,n=this.dom.clientWidth,o=this.dom.clientHeight,r=Math.min(i/n,s/o),a=this.dom.style;1==r?a[st.transform]="":(a[st.transformOrigin]="0 0",a[st.transform]="scale("+r+", "+r+")",a.margin=t=e="",this.options.center&N.HCENTER&&(t=(i-n*r)/2+"px"),this.options.center&N.VCENTER&&(e=(s-o*r)/2+"px"),a.left=t,a.top=e,a.right=a.bottom="")}},layoutIfNeeded:function(){if(this.container){var t=!1;if(this._DEF.b){var e,i=0,s=0,n=this.container.clientWidth,o=this._DEF.b.h;if(o)for(e=o.length-1;e>=0;--e)if(o[e][1]<=n){i=o[e][0];break}if(n=this.container.clientHeight,o=this._DEF.b.v)for(e=o.length-1;e>=0;--e)if(o[e][1]<=n){s=o[e][0];break}i==this.hBreakpoint&&s==this.vBreakpoint||(this.hBreakpoint=i,this.vBreakpoint=s,t=!0,this.onLayoutSwitched())}t||(this.scene&&this.scene._checkIfResized(),this.prevScene&&this.prevScene._checkIfResized()),this.options.autofit&&this.fit(),this.preloader&&this.preloader.loaderDoc&&this.preloader.loaderDoc.layoutIfNeeded()}},onLayoutSwitched:function(){if(this.prevScene&&this.prevScene.onLayoutSwitched(),this.scene){this.scene.onLayoutSwitched();var t,e,i=this.scene.getTimelines(),s=i[0],n=!!s&&s.complete;for(t=0,e=i.length;t<e;++t)i[t].onLayoutSwitched();s&&n&&s.play()}},start:function(t){this.showSceneAt(t||0)},showScene:function(t,e){var i,s,n=this.getScenesData(),o=typeof t===nt?"n":"id";for(i=0,s=n.length;i<s;++i)if(n[i][o]===t)return this.showSceneByData(n[i],e),!0;return!1},showSceneAt:function(t,e){var i=this.getScenesData()[t];return!!i&&(this.showSceneByData(i,e),!0)},showNextScene:function(t){return this.showSceneAt(this.sceneIndex+1,t)},showPreviousScene:function(t){return this.showSceneAt(this.sceneIndex-1,t)},showFirstScene:function(t){return this.showSceneAt(0,t)},showLastScene:function(t){return this.showSceneAt(this.getScenesData().length-1,t)},showSceneByData:function(t,e){if(t||this.scene){e=e||{},this.transition&&this.transition.goToEnd();var i=t?new He(t,this):null;i&&(void 0===e.sceneTime&&(e.sceneTime=e.backward?i.getMainTimeline().getDuration():0),i.seek(e.sceneTime),Jt(i.getMainTimeline(),"complete",function(t,e){if(this.complete)if(this.isPlayBackward()){var s=t.getScenesData()[t.sceneIndex-1],n=t.scene&&t.scene._DEF.st;(s&&s.aa||!s&&n&&n[0]!==L&&n[1])&&t.showSceneByData(s,{backward:!0,transition:n||{type:L}})}else i.isAutoAdvance()&&t.showNextScene()},!0));var s,n,o,r=e.transition;s=r?vt(r)?r:[r.type,r.duration,r.easing,r.option]:t?t.st:[L],e.backward?(n=i,o=this.scene):(n=this.scene,o=i),this.transition=He.createTransition(s?s[0]:L,n,o,s),this.transition.start(e.transitionTime,e.backward,e.paused)}},show:function(t){void 0===t&&(t=!0),typeof t!==nt||"off"!==t&&"none"!==t||(t=!1),this.dom.style.display=t?"block":"none",t&&this.layoutIfNeeded()},pause:function(){this.transition?this.transition.pause():this.scene&&this.scene.getMainTimeline().pause()},play:function(){this.transition?this.transition.play():this.scene&&this.scene.getMainTimeline().play()},isPlaying:function(){return this.transition?this.transition.isPlaying():!!this.scene&&this.scene.getMainTimeline().isPlaying()},setVolume:function(t){(t=Et(t,0,1))!==this.volume&&(this.volume=t,this._updateEVolume(),this.muted&&t&&this.setMuted(!1))},getVolume:function(){return this.volume},getEffectiveVolume:function(){return this.eVolume},_updateEVolume:function(){var t=this.eVolume,e=this.getParentDoc();this.eVolume=this.volume,e&&(this.eVolume*=e.getEffectiveVolume()),t!==this.eVolume&&this.notifyObservers("eVolume",this.eVolume)},setMuted:function(t){t=!!t,this.muted!==t&&(this.muted=t,this._updateEMuted())},isMuted:function(){return this.muted},isEffectiveMuted:function(){return this.eMuted},_updateEMuted:function(){var t=this.eMuted,e=this.getParentDoc();this.eMuted=this.muted,!this.eMuted&&e&&(this.eMuted=e.isEffectiveMuted()),t!==this.eMuted&&this.notifyObservers("eMuted",this.eMuted)},setSpeed:function(t){t<=0||t===Math.abs(this.speed)||(this.speed<0?this.speed=-t:this.speed=t,this._updateESpeed())},getSpeed:function(){return Math.abs(this.speed)},getEffectiveSpeed:function(){return this.eSpeed},_updateESpeed:function(){var t=this.eSpeed,e=this.getParentDoc();this.eSpeed=Math.abs(this.speed),e&&(this.eSpeed*=e.getEffectiveSpeed()),t!==this.eSpeed&&this.notifyObservers("eSpeed",this.eSpeed)},setPlayBackward:function(t){void 0===t&&(t=!0),this.transition&&this.transition.setPlayBackward(t),this.scene&&this.scene.getMainTimeline().setPlayBackward(t),!t!=this.speed>0&&(this.speed=-this.speed)},isPlayBackward:function(){return this.transition?this.transition.isPlayBackward():this.scene?this.scene.getMainTimeline().isPlayBackward():this.speed<0},seek:function(t){var e,i,s,n=this.getScenesData(),o=null,r=null,a=!1,h=!1,l=typeof t===nt;for(e=0,i=n.length;e<i;++e)if(o=r,(s=(r=n[e]).timelines?r.timelines[0]:null)?s.dur||(s.dur=0):s={dur:0},l){if(s.l&&void 0!==s.l[t]){t=s.l[t],a=!0;break}}else{if(r.st&&r.st[1]){if(t<r.st[1]){a=!0,h=!0;break}t-=r.st[1]}if(t<=s.dur){a=!0;break}t-=s.dur}if(!l&&!a&&i>0&&(a=!0,t=s?s.dur:0),!a)return!1;t<0&&(t=0);var d={paused:!this.isPlaying(),backward:this.isPlayBackward()};if(h){d.transitionTime=t;var c={paused:!0,backward:!1,sceneTime:0,transition:{type:L}};this.isPlayBackward()?(d.transition=r.st,this.showSceneByData(r,c),this.showSceneByData(o,d)):(o&&o.timelines&&o.timelines[0]&&(c.sceneTime=o.timelines[0].dur||0),this.showSceneByData(o,c),this.showSceneByData(r,d))}else d.sceneTime=t,d.transition={type:L},this.showSceneByData(r,d);return!0},getTimeline:function(t){return this.scene?this.scene.getTimeline(t):null},pauseTimeline:function(t){var e=this.getTimeline(t);return!!e&&(e.pause(),!0)},playTimeline:function(t){var e=this.getTimeline(t);return!!e&&(e.play(),!0)},seekTimeline:function(t,e){var i=this.getTimeline(e);return!!i&&(i.seek(t),!0)},getScene:function(){return this.scene},getScenesData:function(){return this._DEF.scenes||[]},getSceneCount:function(){return this.getScenesData().length},getDuration:function(){return this._DEF.dur||0},tick:function(t){this.preloader&&this.preloader.loaderDoc&&this.preloader.loaderDoc.tick(t),this.transition?this.transition.timeline.tick(t):this.scene&&this.scene.tick(t)},genId:function(){return++this._idPool},genSceneDomId:function(){return"sl-scene-"+this.domId.replace(Qe,"")+"-"+this.genId()},genElemDomId:function(){return"sl-elem-"+this.domId.replace(Qe,"")+"-"+this.genId()},getResourceFolder:function(t){var e=this.options.resourceFolder;return void 0===e&&void 0===(e=this._DEF.resourceFolder)&&(e=this.options.isPreloader?"preloader_resources":"resources"),e&&"/"!==e.substr(e.length-1)&&(e+="/"),e},getResource:function(t){for(var e=this;e&&!e._DEF.resources&&e.parent;)e=e.parent.getDoc();if(e&&e._DEF.resources){var i,s,n,o=e._DEF.resources;for(i=0,s=o.length;i<s;++i)o[i][0]==t&&(n=o[i]);if(n){var r=e.getResourceFolder(n[1]);switch(n[1]){case O.IMAGE:case O.HTML:return Ze.test(n[3])?n[3]:r+n[3];case O.AUDIO:case O.VIDEO:var a=n[3],h=[];for(i=0;i<a.length;i++){var l=a[i];h.push(Ze.test(l)?l:r+l)}return h;case O.SYMBOL:return n[3]}}}return null},getFunction:function(t){for(var e=this,i=typeof t===nt?1:0;e&&!e._DEF.f&&e.parent;)e=e.parent.getDoc();if(e&&e._DEF.f){var s,n=e._DEF.f,o=n.length;for(s=0;s<o;++s)if(n[s][i]===t)return n[s][2]}return null},getElement:function(t){return this.scene?this.scene.getElement(t):null},getElementsByClassName:function(t){return this.scene?this.scene.getElementsByClassName(t):[]},findElementByDom:function(t){return this.scene?this.scene.findElementByDom(t):null},getParentElem:function(){return this.parent},getParentDoc:function(){return this.parent?this.parent.getDoc():null},getDoc:function(){return this}},se,ne),Ke=bt(Ge,{$init:function(t,e){this.BgX=0,this.BgY=0,this.BgW="100%",this.BgH="100%",Ge.prototype.$init.call(this,t,e)},create:function(){var t=Ge.prototype.create.call(this);return this.imgDom=et.createElement("div"),this.imgDom.style.backgroundRepeat="no-repeat",this.imgDom.style.position="absolute",this.imgDom.style.left="0px",this.imgDom.style.top="0px",this.imgDom.style.width="100%",this.imgDom.style.height="100%",this.imgDom.style.border="none",t.appendChild(this.imgDom),t},_onRemovedFromDoc:function(){this.imgDom.style.backgroundImage="none"},setResource:function(t){this.imgDom.style.backgroundImage='url("'+t.replace(/"/g,'\\"')+'")'},setBgImg:function(t){this.BgX=xt(t[0])?t[0]+"px":t[0],this.BgY=xt(t[1])?t[1]+"px":t[1],this.BgW=xt(t[2])?t[2]+"px":t[2],this.BgH=xt(t[3])?t[3]+"px":t[3],this.imgDom.style.backgroundPosition=this.BgX+" "+this.BgY,this.imgDom.style.backgroundSize=this.BgW+" "+this.BgH},setBgImgX:function(t){this.BgX=xt(t)?t+"px":t,this.imgDom.style.backgroundPosition=this.BgX+" "+this.BgY},setBgImgY:function(t){this.BgY=xt(t)?t+"px":t,this.imgDom.style.backgroundPosition=this.BgX+" "+this.BgY},setBgImgW:function(t){this.BgW=xt(t)?t+"px":t,this.imgDom.style.backgroundSize=this.BgW+" "+this.BgH},setBgImgH:function(t){this.BgH=xt(t)?t+"px":t,this.imgDom.style.backgroundSize=this.BgW+" "+this.BgH}});He.regElemType(function(t,e){return new Ke(t,e)},t);var Je=bt(Ge,{$init:function(t,e){this.speed=1,this.volume=1,this.muted=!1,Ge.prototype.$init.call(this,t,e);var i=this.getDoc(),s=this;if(i&&(i.addObserver({id:this,eSpeed:function(){s.setSpeed(s.speed)},eVolume:function(){s.setVolume(100*s.volume)},eMuted:function(){s.setMuted(s.muted)}}),this.setSpeed(this.speed),this.setVolume(100*this.volume),this.setMuted(this.muted)),this.autoplay){var n=this;setTimeout(function(){n.play()},0)}},create:function(){var t=Ge.prototype.create.call(this),e=this.createMedia(),i=this;return t.appendChild(e),this.mediaDom=e,this._updateFromDom=function(t){var e=i.getDoc();"volumechange"===t.type?(this.muted&&e.isEffectiveMuted()||(i.muted=this.muted),i.volume=e?this.volume/e.getEffectiveVolume():this.volume):"ratechange"===t.type&&(i.speed=e?this.playbackRate/e.getEffectiveSpeed():this.playbackRate)},e.addEventListener("volumechange",this._updateFromDom,!1),e.addEventListener("ratechange",this._updateFromDom,!1),t},_onRemovedFromDoc:function(){this._seekInLoadedmetadata&&(this.mediaDom.removeEventListener("loadedmetadata",this._seekInLoadedmetadata,!1),delete this._seekInLoadedmetadata),this.mediaDom.removeEventListener("volumechange",this._updateFromDom,!1),this.mediaDom.removeEventListener("ratechange",this._updateFromDom,!1);for(var t=0;t<this.mediaDom.childNodes.length;++t)this.mediaDom.childNodes[t].src="";this.mediaDom.src="";var e=this.getDoc();e&&e.removeObserversById(this)},setResource:function(t){this._seekInLoadedmetadata&&(this.mediaDom.removeEventListener("loadedmetadata",this._seekInLoadedmetadata,!1),delete this._seekInLoadedmetadata);for(var e=this.mediaDom.firstChild;e;)e.src="",this.mediaDom.removeChild(e),e=this.mediaDom.firstChild;for(var i=0;i<t.length;i++){var s=et.createElement("source");s.setAttribute("src",t[i]),this.mediaDom.appendChild(s)}this.mediaDom.load()},setAutoplay:function(t){this.autoplay=t},setVolume:function(t){t/=100,this.volume=t;var e=this.getDoc();this.mediaDom.volume=Et(e?e.getEffectiveVolume()*t:t,0,1),this.muted&&this.mediaDom.volume&&this.setMuted(!1)},setLoop:function(t){this.mediaDom.loop=t},setMuted:function(t){this.muted=!!t;var e=this.getDoc();this.mediaDom.muted=e&&e.isEffectiveMuted()||this.muted},isMuted:function(){return this.muted},play:function(){this._replayingOnError?delete this._replayingOnError:this._replayIfError=2;var t=this.mediaDom.play();if(void 0!==t){var e=this;t.catch(function(t){if(St("play media error: "+t),"NotAllowedError"==t.name){if(!e._tryPlayMuted){e._tryPlayMuted=!0;var i=e;"video"==e.mediaDom.nodeName.toLowerCase()?(e.setMuted(!0),e.play()):e.scene&&(i=e.scene),i.bindOnce("click",function(){e.play(),e.setMuted(!1)})}}else"AbortError"==t.name&&e._replayIfError&&e.mediaDom.readyState<=1&&(--e._replayIfError,e._replayingOnError=!0,e.play())})}},pause:function(){delete this._replayIfError,this.mediaDom.pause()},seek:function(t){try{var e=t/1e3;this.mediaDom.currentTime!==e&&(this.mediaDom.currentTime=e)}catch(t){this._seekInLoadedmetadata&&(this.mediaDom.removeEventListener("loadedmetadata",this._seekInLoadedmetadata,!1),delete this._seekInLoadedmetadata),isNaN(e)||(this._seekInLoadedmetadata=function(){try{this.currentTime!==e&&(this.currentTime=e)}catch(t){}},this.mediaDom.addEventListener("loadedmetadata",this._seekInLoadedmetadata,!1))}},setSpeed:function(t){this.speed=t;var e=this.getDoc();this.mediaDom.defaultPlaybackRate=this.mediaDom.playbackRate=e?e.getEffectiveSpeed()*t:t},isPlaying:function(){return!this.mediaDom.paused}}),ti=bt(Je,{createMedia:function(){var t=et.createElement("video"),e=t.style;return e.display="block",e.width="100%",e.height="100%",t},playFullscreen:function(){this.mediaDom.requestFullscreen?this.mediaDom.requestFullscreen():this.mediaDom.msRequestFullscreen?this.mediaDom.msRequestFullscreen():this.mediaDom.mozRequestFullScreen?this.mediaDom.mozRequestFullScreen():this.mediaDom.webkitRequestFullscreen&&this.mediaDom.webkitRequestFullscreen()}}),ei=bt(Je,{createMedia:function(){var t=et.createElement("audio"),e=t.style;return e.display="block",e.width="100%",t}});He.regElemType(function(t,e){return new ti(t,e)},i),He.regElemType(function(t,e){return new ei(t,e)},e);var ii="http://www.w3.org/2000/svg",si="userSpaceOnUse",ni={},oi={};at.svg=!(!et.createElementNS||!window.SVGRect)&&(rt.innerHTML="<svg/>",(rt.firstChild&&rt.firstChild.namespaceURI)===ii);var ri=bt({$init:function(t){var e,i=[],s=[],n=1,o=1,r=-1,a=-1;for(e=0;e<t;e++)i[2*e]=Math.cos(2*tt*e/t-tt/2),s[2*e]=Math.sin(2*tt*e/t-tt/2),i[2*e]<n&&(n=i[2*e]),s[2*e]<o&&(o=s[2*e]),i[2*e]>r&&(r=i[2*e]),s[2*e]>a&&(a=s[2*e]),i[2*e+1]=Math.cos(2*tt*((2*e+1)/2)/t-tt/2),s[2*e+1]=Math.sin(2*tt*((2*e+1)/2)/t-tt/2);this.cXs=i,this.cYs=s,this.minX=n,this.minY=o,this.maxX=r,this.maxY=a}}),ai=bt({$init:function(t){var e,i=[],s=[],n=1,o=1,r=-1,a=-1;for(e=0;e<t;++e)i[2*e]=Math.cos(2*tt*e/t-tt/2),s[2*e]=Math.sin(2*tt*e/t-tt/2),i[2*e]<n&&(n=i[2*e]),s[2*e]<o&&(o=s[2*e]),i[2*e]>r&&(r=i[2*e]),s[2*e]>a&&(a=s[2*e]),i[2*e+1]=Math.cos(2*tt*((2*e+1)/2)/t-tt/2),s[2*e+1]=Math.sin(2*tt*((2*e+1)/2)/t-tt/2);this.cXs=i,this.cYs=s,this.minX=n,this.minY=o,this.maxX=r,this.maxY=a}}),hi=bt({$init:function(){this.path=""},getPath:function(){return this.path},clear:function(){this.path=""},moveTo:function(t,e){this.path+=" M"+t+","+e},lineTo:function(t,e){this.path+=" L"+t+","+e},arcTo:function(t,e,i,s,n,o){this.path+=" A"+t+","+e+" 0 "+(n?1:0)+","+(o?1:0)+" "+i+","+s},cubicTo:function(t,e,i,s,n,o){this.path+=" C"+t+","+e+" "+i+","+s+" "+n+","+o},addEllipse:function(t,e,i,s){this.moveTo(t-i,e),this.arcTo(i,s,t+i,e,!0,!0),this.arcTo(i,s,t-i,e,!0,!0)},closeSubpath:function(){this.path+=" Z"},addRect:function(t,e,i,s){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+s),this.lineTo(t,e+s),this.closeSubpath()},addRoundedRect:function(t,e,i,s,n,o){this.moveTo(t,e+o),this.arcTo(n,o,t+n,e,!1,!0),this.lineTo(t+i-n,e),this.arcTo(n,o,t+i,e+o,!1,!0),this.lineTo(t+i,e+s-o),this.arcTo(n,o,t+i-n,e+s,!1,!0),this.lineTo(t+n,e+s),this.arcTo(n,o,t,e+s-o,!1,!0),this.closeSubpath()},addStar:function(t,e,i,s,n,o){var r,a=ni[o]||(ni[o]=new ri(o)),h=a.cXs,l=a.cYs,d=a.minX,c=a.minY,u=i/(a.maxX-d),p=s/(a.maxY-c);for(this.moveTo(t+(h[0]-d)*u,e+(l[0]-c)*p),this.lineTo(t+(h[1]*n-d)*u,e+(l[1]*n-c)*p),r=1;r<o;++r)this.lineTo(t+(h[2*r]-d)*u,e+(l[2*r]-c)*p),this.lineTo(t+(h[2*r+1]*n-d)*u,e+(l[2*r+1]*n-c)*p);this.closeSubpath()},addPolygon:function(t,e,i,s,n){var o,r=oi[n]||(oi[n]=new ai(n)),a=r.cXs,h=r.cYs,l=r.minX,d=r.minY,c=i/(r.maxX-l),u=s/(r.maxY-d);for(this.moveTo(t+(a[0]-l)*c,e+(h[0]-d)*u),o=1;o<n;++o)this.lineTo(t+(a[2*o]-l)*c,e+(h[2*o]-d)*u);this.closeSubpath()},addMarker:function(t,e,i){var s,n,o;switch(n=(0==(s=e%3)?2:1==s?3:5)*i,o=(0==(s=Math.floor(e/3))?2:1==s?3:5)*i,t){case k.ARROW:this.moveTo(0,0),this.lineTo(n,-o/2),this.lineTo(n,o/2),this.closeSubpath();break;case k.OPEN:var r=Math.atan2(o/2,n),a=Math.floor(i/Math.sin(r)/2);this.moveTo(n+a,-o/2),this.lineTo(a,0),this.lineTo(n+a,o/2);break;case k.STEALTH:this.moveTo(0,0),this.lineTo(n,-o/2),this.lineTo(n/2,0),this.lineTo(n,o/2),this.closeSubpath();break;case k.DIAMOND:this.moveTo(-n/2,0),this.lineTo(0,-o/2),this.lineTo(n/2,0),this.lineTo(0,o/2),this.closeSubpath();break;case k.OVAL:this.addEllipse(0,0,n/2,o/2)}}});function li(t,e){var i,s,n,o,r;for(n=0,o=e.length;n<o;++n)(i=e[n])[6]||0===n?t.moveTo(i[0],i[1]):t.cubicTo(s[4],s[5],i[2],i[3],i[0],i[1]),s=i;(r=e).length>1&&!r[0][6]&&(i=e[0],t.cubicTo(s[4],s[5],i[2],i[3],i[0],i[1]),t.closeSubpath())}var di=et.createElementNS(ii,"svg"),ci=di.createSVGMatrix(),ui=di.createSVGPoint();function pi(t,e,i){ui.x=e,ui.y=i;var s=ui.matrixTransform(t);return{x:s.x,y:s.y}}function fi(t,e,i){var s=e%3,n=(0===s?2:1===s?3:5)*i;switch(t){case k.ARROW:case k.OPEN:case k.STEALTH:return e<3?2.5*n/4:2*n/4;default:return 0}}var mi={gen:function(t,e,i,s,n,o,r){var a=new hi;return this.hasOwnProperty(t)?this[t](a,e,i,s,n,o,r):t>=M.POLY_MIN&&t<=M.POLY_MAX?a.addPolygon(e,i,s,n,t-M.POLY_MIN):t>=M.STAR_MIN&&t<=M.STAR_MAX&&a.addStar(e,i,s,n,o[0],t-M.STAR_MIN),a.getPath()},11:function(t,e,i,s,n){t.addRect(e,i,s,n)},12:function(t,e,i,s,n,o){var r=o[0]*Math.min(s/2,n/2);t.addRoundedRect(e,i,s,n,r,r)},13:function(t,e,i,s,n,o){this.rectCallout(t,e,i,s,n,o,!1)},14:function(t,e,i,s,n,o){this.rectCallout(t,e,i,s,n,o,!0)},15:function(t,e,i,s,n,o){var r=s-Math.min(s,n)*o[0];r<0?r=0:r>s&&(r=s);var a=e+r,h=i+n/2*o[1];t.moveTo(a,i),t.lineTo(e+s,i+n/2),t.lineTo(a,i+n),t.lineTo(a,i+n-o[1]*n/2),t.lineTo(e,i+n-o[1]*n/2),t.lineTo(e,h),t.lineTo(a,h),t.closeSubpath()},16:function(t,e,i,s,n,o){var r=Math.min(s,n)*o[0];r<0?r=0:r>s&&(r=s);var a=e+r,h=i+n/2*o[1];t.moveTo(a,i),t.lineTo(a,h),t.lineTo(e+s,h),t.lineTo(e+s,i+n-o[1]*n/2),t.lineTo(a,i+n-o[1]*n/2),t.lineTo(a,i+n),t.lineTo(e,i+n/2),t.closeSubpath()},17:function(t,e,i,s,n,o){var r=i+Math.min(s,n)*o[0];Math.min(s,n)*o[0]<0?r=i:Math.min(s,n)*o[0]>n&&(r=i+n);var a=e+s/2*o[1];t.moveTo(e,r),t.lineTo(e+s/2,i),t.lineTo(e+s,r),t.lineTo(e+s-o[1]*s/2,r),t.lineTo(e+s-o[1]*s/2,i+n),t.lineTo(a,i+n),t.lineTo(a,r),t.lineTo(e,r),t.closeSubpath()},18:function(t,e,i,s,n,o){var r=e+s/2*o[1],a=i+n-Math.min(s,n)*o[0];n-Math.min(s,n)*o[0]<0?a=i:n-Math.min(s,n)*o[0]>n&&(a=i+n),t.moveTo(e,a),t.lineTo(r,a),t.lineTo(r,i),t.lineTo(e+s-s/2*o[1],i),t.lineTo(e+s-s/2*o[1],a),t.lineTo(e+s,a),t.lineTo(e+s/2,i+n),t.closeSubpath()},19:function(t,e,i,s,n,o){var r=e+s/2*(1+o[0]),a=i+n/2*(1+o[1]),h=Math.atan2(o[1],o[0]),l=h-13*tt/180,d=h+14*tt/180;t.moveTo(r,a),t.lineTo(e+s/2+s/2*Math.cos(l),i+n/2+n/2*Math.sin(l)),t.arcTo(s/2,n/2,e+s/2+s/2*Math.cos(d),i+n/2+n/2*Math.sin(d),!0,!1),t.closeSubpath()},20:function(t,e,i,s,n,o){var r=o[0]*Math.min(s/2,n/2);t.moveTo(e+r,i),t.lineTo(e+s-r,i),t.lineTo(e+s-r,i+r),t.lineTo(e+s,i+r),t.lineTo(e+s,i+n-r),t.lineTo(e+s-r,i+n-r),t.lineTo(e+s-r,i+n),t.lineTo(e+r,i+n),t.lineTo(e+r,i+n-r),t.lineTo(e,i+n-r),t.lineTo(e,i+r),t.lineTo(e+r,i+r),t.closeSubpath()},21:function(t,e,i,s,n){t.addEllipse(e+s/2,i+n/2,s/2,n/2)},22:function(t,e,i,s,n){t.moveTo(e+s/2,i),t.lineTo(e+s,i+n/2),t.lineTo(e+s/2,i+n),t.lineTo(e,i+n/2),t.closeSubpath()},25:function(t,e,i,s,n,o){var r=s/2;t.moveTo(e+o[0]*r,i),t.lineTo(e+o[0]*r,i+n/2*o[1]),t.lineTo(e+s-r*o[0],i+n/2*o[1]),t.lineTo(e+s-r*o[0],i),t.lineTo(e+s,i+n/2),t.lineTo(e+s-r*o[0],i+n),t.lineTo(e+s-r*o[0],i+n-n/2*o[1]),t.lineTo(e+o[0]*r,i+n-n/2*o[1]),t.lineTo(e+o[0]*r,i+n),t.lineTo(e,i+n/2),t.closeSubpath()},26:function(t,e,i,s,n,o){var r=n/2;t.moveTo(e,i+o[1]*r),t.lineTo(e+s/2,i),t.lineTo(e+s,i+o[1]*r),t.lineTo(e+s-s/2*o[0],i+o[1]*r),t.lineTo(e+s-s/2*o[0],i+n-r*o[1]),t.lineTo(e+s,i+n-r*o[1]),t.lineTo(e+s/2,i+n),t.lineTo(e,i+n-r*o[1]),t.lineTo(e+s/2*o[0],i+n-r*o[1]),t.lineTo(e+s/2*o[0],i+r*o[1]),t.closeSubpath()},27:function(t,e,i,s,n,o){var r=o[0]*s,a=o[1]*n,h=Math.min(o[2],o[0])*s,l=Math.max(o[3],o[1])*n;t.moveTo(e,i),t.lineTo(e+h,i),t.lineTo(e+h,i+l),t.lineTo(e+r,i+l),t.lineTo(e+r,i+a),t.lineTo(e+s,i+n/2),t.lineTo(e+r,i+n-a),t.lineTo(e+r,i+n-l),t.lineTo(e+h,i+n-l),t.lineTo(e+h,i+n),t.lineTo(e,i+n),t.closeSubpath()},28:function(t,e,i,s,n,o){var r=o[1]*s,a=o[2]*n,h=Math.max(o[0],o[1])*s,l=Math.min(o[2],o[3])*n;t.moveTo(e,i),t.lineTo(e+s,i),t.lineTo(e+s,i+l),t.lineTo(e+s-h,i+l),t.lineTo(e+s-h,i+a),t.lineTo(e+s-r,i+a),t.lineTo(e+s/2,i+n),t.lineTo(e+r,i+a),t.lineTo(e+h,i+a),t.lineTo(e+h,i+l),t.lineTo(e,i+l),t.closeSubpath()},29:function(t,e,i,s,n,o){var r=o[0]*s,a=o[1]*n,h=Math.max(o[2],o[0])*s,l=Math.max(o[3],o[1])*n;t.moveTo(e+h,i),t.lineTo(e+s,i),t.lineTo(e+s,i+n),t.lineTo(e+h,i+n),t.lineTo(e+h,i+n-l),t.lineTo(e+r,i+n-l),t.lineTo(e+r,i+n-a),t.lineTo(e,i+n/2),t.lineTo(e+r,i+a),t.lineTo(e+r,i+l),t.lineTo(e+h,i+l),t.closeSubpath()},30:function(t,e,i,s,n,o){var r=o[1]*s,a=o[2]*n,h=Math.max(o[0],o[1])*s,l=Math.max(o[2],o[3])*n;t.moveTo(e+s/2,i),t.lineTo(e+r,i+a),t.lineTo(e+h,i+a),t.lineTo(e+h,i+l),t.lineTo(e,i+l),t.lineTo(e,i+n),t.lineTo(e+s,i+n),t.lineTo(e+s,i+l),t.lineTo(e+s-h,i+l),t.lineTo(e+s-h,i+a),t.lineTo(e+s-r,i+a),t.closeSubpath()},31:function(t,e,i,s,n,o){var r=e+s-s*o[0];t.moveTo(e+r,i),t.lineTo(e+s,i+n/2),t.lineTo(e+r,i+n),t.lineTo(e+r,i+n-n/2*o[1]),t.lineTo(e,i+n-n/2*o[1]),t.lineTo(e+s*o[0]/2,i+n/2),t.lineTo(e,i+n/2*o[1]),t.lineTo(e+r,i+n/2*o[1]),t.closeSubpath()},32:function(t,e,i,s,n,o){var r=s*o[0];t.moveTo(e+s-r,i),t.lineTo(e+s,i+n/2),t.lineTo(e+s-r,i+n),t.lineTo(e,i+n),t.lineTo(e+r,i+n/2),t.lineTo(e,i),t.closeSubpath()},33:function(t,e,i,s,n,o){t.moveTo(e+o[0]*s,i),t.lineTo(e+s,i+n),t.lineTo(e,i+n),t.closeSubpath()},34:function(t,e,i,s,n,o){t.moveTo(e,i),t.lineTo(e+s,i+n),t.lineTo(e,i+n),t.closeSubpath()},35:function(t,e,i,s,n,o){t.moveTo(e+.2*s,i),t.lineTo(e+s,i),t.lineTo(e+.8*s,i+n),t.lineTo(e,i+n),t.closeSubpath()},53:function(t,e,i,s,n,o){var r=o[0]*Math.min(s/2,n/2);t.moveTo(e,i+r),t.cubicTo(e,i+r,e+r,i+r,e+r,i),t.lineTo(e+s-r,i),t.cubicTo(e+s-r,i,e+s-r,i+r,e+s,i+r),t.lineTo(e+s,i+n-r),t.cubicTo(e+s,i+n-r,e+s-r,i+n-r,e+s-r,i+n),t.lineTo(e+r,i+n),t.cubicTo(e+r,i+n,e+r,i+n-r,e,i+n-r),t.closeSubpath()},56:function(t,e,i,s,n){t.moveTo(e+s/2,i+n),t.cubicTo(e-s/2,i+n/4,e+s/4,i-n/3,e+s/2,i+n/4),t.cubicTo(e+.75*s,i-n/3,e+1.5*s,i+n/4,e+s/2,i+n),t.closeSubpath()},57:function(t,e,i,s,n,o){t.moveTo(e+s,i+n),t.cubicTo(e,i+n,e,i+n/2,e,i+n/2),t.cubicTo(e,i+n/2,e,i,e+s,i),t.cubicTo(e+o[0]*s,i,e+o[0]*s,i+n/2,e+o[0]*s,i+n/2),t.cubicTo(e+o[0]*s,i+n/2,e+o[0]*s,i+n,e+s,i+n),t.closeSubpath()},61:function(t,e,i,s,n,o){var r=o[0]*Math.min(s/2,n/2);t.moveTo(e+r,i),t.lineTo(e+s-r,i),t.lineTo(e+s,i+n),t.lineTo(e,i+n),t.closeSubpath()},69:function(t,e,i,s,n,o){t.moveTo(e,i),t.lineTo(e+s,i),t.lineTo(e+s,i+.8*n),t.lineTo(e+s/2,i+n),t.lineTo(e,i+.8*n),t.closeSubpath()},71:function(t,e,i,s,n,o){t.moveTo(e+s/6,i),t.lineTo(e,i+n/2),t.lineTo(e+s/6,i+n),t.lineTo(e+s-s/6,i+n),t.cubicTo(e+5/6*s,i+n,e+s,i+n,e+s,i+n/2),t.cubicTo(e+s,i,e+5/6*s,i,e+5/6*s,i),t.closeSubpath()},72:function(t,e,i,s,n,o){t.moveTo(e+.2*s,i),t.lineTo(e+s,i),t.lineTo(e+s,i+n),t.lineTo(e,i+n),t.lineTo(e,i+.2*n),t.closeSubpath()},73:function(t,e,i,s,n,o){var r=Et(o[0]*Math.min(s,n),0,s);t.moveTo(e,i),t.lineTo(e+s-r,i),t.lineTo(e+s,i+n/2),t.lineTo(e+s-r,i+n),t.lineTo(e,i+n),t.closeSubpath()},74:function(t,e,i,s,n,o){t.moveTo(e+s/6,i),t.cubicTo(e-s/18,i-n/35,e-s/18,i+36*n/35,e+s/6,i+n),t.lineTo(e+s,i+n),t.cubicTo(e+7*s/9,i+36*n/35,e+7*s/9,i-n/35,e+s,i),t.lineTo(e+s/6,i),t.closeSubpath()},75:function(t,e,i,s,n,o){var r=o[1]*s/2,a=o[0]*n/2;r<=0?(t.moveTo(e-2*r,i+a),t.cubicTo(e+s/4-2*r,i-2.5*a,e+3*s/4,i+5*a,e+s,i+a),t.lineTo(e+s+2*r,i+n-a),t.cubicTo(e+3*s/4+2.2*r,i+n+2.5*a,e+s/4,i+n-5*a,e,i+n-a),t.lineTo(e-2*r,i+a),t.closeSubpath()):(t.moveTo(e,i+a),t.cubicTo(e+s/4,i-2.5*a,e+3*s/4-2*r,i+5*a,e+s-2*r,i+a),t.lineTo(e+s,i+n-a),t.cubicTo(e+3*s/4,i+n+2.5*a,e+s/4+2*r,i+n-5*a,e+2*r,i+n-a),t.lineTo(e,i+a),t.closeSubpath())},1e3:function(t,e,i,s,n,o){var r,a,h=Math.min(s,n),l=e+s*(1+o[0])/2,d=i+n*(1+o[1])/2,c=2*h/10;t.addEllipse(e+s/2,i+n/2,s/2,n/2),c=.3*h/10,t.addEllipse(l,d,c,c),c=.8*h/10,r=(e+s/2-l)/7.5,a=(i+n/2-d)/7.5,t.addEllipse(l+r,d+a,c,c),c=1.5*h/10,r=(e+s/2-l)/3,a=(i+n/2-d)/3,t.addEllipse(l+r,d+a,c,c)},1001:function(t,e,i,s,n,o){var r,a,h=Math.min(s,n),l=e+s*(1+o[0])/2,d=i+n*(1+o[1])/2,c=2*h/10;t.addRoundedRect(e,i,s,n,c,c),c=.3*h/10,t.addEllipse(l,d,c,c),c=.8*h/10,r=(e+s/2-l)/7.5,a=(i+n/2-d)/7.5,t.addEllipse(l+r,d+a,c,c),c=1.5*h/10,r=(e+s/2-l)/3,a=(i+n/2-d)/3,t.addEllipse(l+r,d+a,c,c)},rectCallout:function(t,e,i,s,n,o,r){var a=o[0],h=o[1],l=e+s/2*(1+a),d=i+n/2*(1+h),c=r?.2*Math.min(s,n):0;t.moveTo(e+c,i),a<=0&&h<=0&&Math.abs(a)<=Math.abs(h)?(t.lineTo(e+.2*s,i),t.lineTo(l,d),t.lineTo(e+.4*s,i),t.lineTo(e+s-c,i),r&&t.arcTo(c,c,e+s,i+c,!1,!0),t.lineTo(e+s,i+n-c),r&&t.arcTo(c,c,e+s-c,i+n,!1,!0),t.lineTo(e+c,i+n),r&&t.arcTo(c,c,e,i+n-c,!1,!0),t.lineTo(e,i+c),r&&t.arcTo(c,c,e+c,i,!1,!0)):a<=0&&h<=0&&Math.abs(a)>Math.abs(h)?(t.lineTo(e+s-c,i),r&&t.arcTo(c,c,e+s,i+c,!1,!0),t.lineTo(e+s,i+n-c),r&&t.arcTo(c,c,e+s-c,i+n,!1,!0),t.lineTo(e+c,i+n),r&&t.arcTo(c,c,e,i+n-c,!1,!0),t.lineTo(e,i+4*n/10),t.lineTo(l,d),t.lineTo(e,i+2*n/10),r&&t.arcTo(c,c,e+c,i,!1,!0)):a>0&&h<=0&&Math.abs(a)<=Math.abs(h)?(t.lineTo(e+6*s/10,i),t.lineTo(l,d),t.lineTo(e+8*s/10,i),t.lineTo(e+s-c,i),r&&t.arcTo(c,c,e+s,i+c,!1,!0),t.lineTo(e+s,i+n-c),r&&t.arcTo(c,c,e+s-c,i+n,!1,!0),t.lineTo(e+c,i+n),r&&t.arcTo(c,c,e,i+n-c,!1,!0),t.lineTo(e,i+c),r&&t.arcTo(c,c,e+c,i,!1,!0)):a>0&&h<=0&&Math.abs(a)>Math.abs(h)?(t.lineTo(e+s-c,i),r&&t.arcTo(c,c,e+s,i+c,!1,!0),t.lineTo(e+s,i+2*n/10),t.lineTo(l,d),t.lineTo(e+s,i+4*n/10),t.lineTo(e+s,i+n-c),r&&t.arcTo(c,c,e+s-c,i+n,!1,!0),t.lineTo(e+c,i+n),r&&t.arcTo(c,c,e,i+n-c,!1,!0),t.lineTo(e,i+c),r&&t.arcTo(c,c,e+c,i,!1,!0)):a<=0&&h>0&&Math.abs(a)>Math.abs(h)?(t.lineTo(e+s-c,i),r&&t.arcTo(c,c,e+s,i+c,!1,!0),t.lineTo(e+s,i+n-c),r&&t.arcTo(c,c,e+s-c,i+n,!1,!0),t.lineTo(e+c,i+n),r&&t.arcTo(c,c,e,i+n-c,!1,!0),t.lineTo(e,i+.8*n),t.lineTo(l,d),t.lineTo(e,i+6*n/10),t.lineTo(e,i+c),r&&t.arcTo(c,c,e+c,i,!1,!0)):a<=0&&h>0&&Math.abs(a)<=Math.abs(h)?(t.lineTo(e+s-c,i),r&&t.arcTo(c,c,e+s,i+c,!1,!0),t.lineTo(e+s,i+n-c),r&&t.arcTo(c,c,e+s-c,i+n,!1,!0),t.lineTo(e+4*s/10,i+n),t.lineTo(l,d),t.lineTo(e+2*s/10,i+n),t.lineTo(e+c,i+n),r&&t.arcTo(c,c,e,i+n-c,!1,!0),t.lineTo(e,i+c),r&&t.arcTo(c,c,e+c,i,!1,!0)):a>0&&h>0&&Math.abs(a)>Math.abs(h)?(t.lineTo(e+s-c,i),r&&t.arcTo(c,c,e+s,i+c,!1,!0),t.lineTo(e+s,i+6*n/10),t.lineTo(l,d),t.lineTo(e+s,i+.8*n),t.lineTo(e+s,i+n-c),r&&t.arcTo(c,c,e+s-c,i+n,!1,!0),t.lineTo(e+c,i+n),r&&t.arcTo(c,c,e,i+n-c,!1,!0),t.lineTo(e,i+c),r&&t.arcTo(c,c,e+c,i,!1,!0)):a>0&&h>0&&Math.abs(a)<=Math.abs(h)&&(t.lineTo(e+s-c,i),r&&t.arcTo(c,c,e+s,i+c,!1,!0),t.lineTo(e+s,i+n-c),r&&t.arcTo(c,c,e+s-c,i+n,!1,!0),t.lineTo(e+.8*s,i+n),t.lineTo(l,d),t.lineTo(e+6*s/10,i+n),t.lineTo(e+c,i+n),r&&t.arcTo(c,c,e,i+n-c,!1,!0),t.lineTo(e,i+c),r&&t.arcTo(c,c,e+c,i,!1,!0)),t.closeSubpath()}};function gi(t){var e;try{e=t.getBBox()}catch(t){e={x:0,y:0,width:0,height:0}}return{x:e.x,y:e.y,width:e.width,height:e.height}}var vi=bt(Ge,{_initText:function(){this.textDom||(Ge.prototype._initText.call(this),this._updateTextRect())},_updateTextRect:function(){if(this.textContainer){var t=this.textContainer.style;t.left="0%",t.top="0%",t.width="100%",t.height="100%"}},_onResized:function(t,e){this._updateTextRect(),Ge.prototype._onResized.call(this,t,e)}});He.regElemType(function(t,e){return new vi(t,e)},n);var yi=bt(vi,{create:function(){var t=vi.prototype.create.call(this);return this.domDiv=t,t},setTopLeftRadius:function(t){var e=xt(t)?t+"px":t;this.domDiv.style.borderTopLeftRadius=e,this._updateTextRect()},setTopRightRadius:function(t){var e=xt(t)?t+"px":t;this.domDiv.style.borderTopRightRadius=e,this._updateTextRect()},setBottomLeftRadius:function(t){var e=xt(t)?t+"px":t;this.domDiv.style.borderBottomLeftRadius=e,this._updateTextRect()},setBottomRightRadius:function(t){var e=xt(t)?t+"px":t;this.domDiv.style.borderBottomRightRadius=e,this._updateTextRect()},_updateTextRect:function(){if(this.textContainer){var t=yi.getTextRect(this,10),e=this.textContainer.style;e.left=t.left+"px",e.top=t.top+"px",e.width=t.width+"px",e.height=t.height+"px"}}});He.regElemType(function(t,e){return new yi(t,e)},o),yi.getTextRect=function(t,e){var i=t.dom.offsetWidth,s=t.dom.offsetHeight;if(i<=0||s<=0)return{left:0,top:0,width:0,height:0};var n=t.dom.clientWidth,o=t.dom.clientHeight,r=(i-n)/2;e=e||10;var a=function(t){var e=Ae(t),n={x:0,y:0,isPixel:!0};return e&&(n.x=e.value,n.y=e.value,"%"===e.unit&&(n.isPixel=!1,n.x=e.value*i/100,n.y=e.value*s/100)),n},h=function(t){var e=t.x,i=t.y,s={x:0,y:0};if(0!==e&&0!==i){var n=i/e;e>i?(s.x=e*(1-1/Math.sqrt(2)),s.y=s.x*n):(s.y=i*(1-1/Math.sqrt(2)),s.x=s.y/n)}return s},l=function(t){if(t.isPixel){var e=Math.min(t.x,t.y);t.x=e,t.y=e}},d=a(t.domDiv.style.borderTopLeftRadius),c=a(t.domDiv.style.borderTopRightRadius),u=a(t.domDiv.style.borderBottomLeftRadius),p=a(t.domDiv.style.borderBottomRightRadius),f=s/(d.y+u.y),m=s/(c.y+p.y),g=i/(d.x+c.x),v=i/(u.x+p.x);f<1&&(d.y*=f,u.y*=f),m<1&&(c.y*=m,p.y*=m),g<1&&(d.x*=g,c.x*=g),v<1&&(u.x*=v,p.x*=v),l(d),l(c),l(u),l(p),d.x=d.x>r?d.x-r:0,d.y=d.y>r?d.y-r:0,c.x=c.x>r?c.x-r:0,c.y=c.y>r?c.y-r:0,u.x=u.x>r?u.x-r:0,u.y=u.y>r?u.y-r:0,p.x=p.x>r?p.x-r:0,p.y=p.y>r?p.y-r:0;var y=h(d),_=h(c),T=h(u),w=h(p),b=e+Math.max(y.x,T.x),S=e+Math.max(_.x,w.x),E=e+Math.max(y.y,_.y),x=e+Math.max(T.y,w.y);return b>n&&(b=n,S=0),E>o&&(E=o,x=0),{left:b,top:E,width:n-b-S,height:o-E-x}};var _i=at.svg?bt(vi,{create:function(){var t=vi.prototype.create.call(this),e=et.createElementNS(ii,"svg"),i=et.createElementNS(ii,"path"),s=e.style;return s.width="100%",s.height="100%",s.position="absolute",s.overflow="visible",this.svgPath=e.appendChild(i),this.svgNode=t.appendChild(e),t},_updateTextRect:function(){if(this.textContainer){var t=this.textContainer.style,e=_i.getTextRect(this);t.left=Math.round(e.left)+"px",t.top=Math.round(e.top)+"px",t.width=Math.round(e.width)+"px",t.height=Math.round(e.height)+"px"}},setCursor:function(t){this.svgPath.style.cursor=t,this.textContainer?this.textContainer.style.cursor=t:(this.removeObserver("text.cursor"),this.addObserver({id:"text.cursor",_initText:function(e){e.textContainer&&(e.textContainer.style.cursor=t)&&e.removeObserver("text.cursor")}}))},_setOverflow4Container:function(){},setBorderStyle:function(t){var e,i="none",s=this._lineGroup?this._lineGroup.style:this.svgPath.style;this._borderStyle=t,"none"===t?(this._oldStroke=s.stroke,s.stroke=t):(e=s.strokeWidth,"dotted"===t?i=e+", "+e:"dashed"===t&&(i=3*(e=Ae(e)).value,e.unit&&(i+=e.unit),i=i+", "+i),s.strokeDasharray=i,"none"===s.stroke&&(s.stroke=this._oldStroke||"black"))},setBorderWidth:function(t){(this._lineGroup?this._lineGroup.style:this.svgPath.style).strokeWidth=t,"dotted"!==this._borderStyle&&"dashed"!==this._borderStyle||this.setBorderStyle(this._borderStyle)},setBorderColor:function(t,e,i,s){var n=this._lineGroup?this._lineGroup.style:this.svgPath.style;n.stroke=Rt(t,e,i),void 0===s&&(s=255),n.strokeOpacity=s/255},fillNone:function(){this.fillType=g,(this._fillPath?this._fillPath.style:this.svgPath.style).fill="none",this._gradient=null,this.refreshShadow()},fillSolid:function(t,e,i,s){this.fillType=v;var n=this._fillPath?this._fillPath.style:this.svgPath.style;n.fill=Rt(t,e,i),void 0===s&&(s=255),n.fillOpacity=s/255,this._gradient=null,this.refreshShadow()},fillImage:function(t,e,i,s){this.fillType=_,this.refreshShadow();var n=this._fillPath?this._fillPath.style:this.svgPath.style;if(this._imageFillData?(this._imageFillData[1]=e,this._imageFillData[2]=i,this._imageFillData[3]=s):this._imageFillData=["",e,i,s],this.svgDefs||(this.svgDefs=et.createElementNS(ii,"defs"),this.svgNode.appendChild(this.svgDefs)),!this.svgImgPattern){var o=et.createElementNS(ii,"pattern");o.id=this.domId+"-img-pattern",o.setAttribute("patternUnits","userSpaceOnUse"),this.svgImgPattern=o,this.svgDefs.appendChild(this.svgImgPattern)}this.svgImage||(this.svgImage=et.createElementNS(ii,"image"),this.svgImgPattern.appendChild(this.svgImage));var r=null;if(typeof t==nt?r=t:-1!=t&&(r=this.getDoc().getResource(t)),r&&r!==this._imageFillData[0])this._imageFillData[0]=r,this.svgImage.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);else if(!r)return this._imageFillData[0]="",void(n.fill="none");if(this.svgImage.setAttribute("x","0%"),this.svgImage.setAttribute("y","0%"),this.svgImage.setAttribute("transform","matrix(1, 0, 0, 1, 0, 0)"),e===T)this.svgImgPattern.setAttribute("width","100%"),this.svgImgPattern.setAttribute("height","100%"),this.svgImage.setAttribute("width","100%"),this.svgImage.setAttribute("height","100%"),this.svgImage.setAttribute("preserveAspectRatio","none");else if(e===S)this.svgImgPattern.setAttribute("width",i+"px"),this.svgImgPattern.setAttribute("height",s+"px"),this.svgImage.setAttribute("width",i+"px"),this.svgImage.setAttribute("height",s+"px"),this.svgImage.setAttribute("preserveAspectRatio","none");else if(e===b)this.svgImgPattern.setAttribute("width","100%"),this.svgImgPattern.setAttribute("height","100%"),this.svgImage.setAttribute("width","100%"),this.svgImage.setAttribute("height","100%"),this.svgImage.setAttribute("preserveAspectRatio","xMidYMid meet");else if(e===E)this.svgImgPattern.setAttribute("width","100%"),this.svgImgPattern.setAttribute("height","100%"),this.svgImage.setAttribute("width","100%"),this.svgImage.setAttribute("height","100%"),this.svgImage.setAttribute("preserveAspectRatio","xMidYMid slice");else if(e===w){this.svgImgPattern.setAttribute("width","100%"),this.svgImgPattern.setAttribute("height","100%"),this.svgImage.setAttribute("x","50%"),this.svgImage.setAttribute("y","50%"),this.svgImage.setAttribute("width",i+"px"),this.svgImage.setAttribute("height",s+"px"),this.svgImage.setAttribute("preserveAspectRatio","none");var a="translate(-"+i/2+",-"+s/2+")";this.svgImage.setAttribute("transform",a)}n.fill="url(#"+this.svgImgPattern.id+")",n.fillOpacity=1},fillLinearGradient:function(t,e){this.fillType=y,this.refreshShadow();var i,s,n,o,r,a,h,l,d,c,u,p,f=this._fillPath?this._fillPath.style:this.svgPath.style,m=[],g=(r=t,a=gi(this.svgPath),u=Math.tan(r*tt/180),p=1+u*u,(r%=360)<0&&(r+=360),r<90?(h=a.x,l=a.y+a.height,d=a.x+a.width,c=a.y):r<180?(h=a.x,l=a.y,d=a.x+a.width,c=a.y+a.height):r<270?(d=a.x,c=a.y+a.height,h=a.x+a.width,l=a.y):(d=a.x,c=a.y,h=a.x+a.width,l=a.y+a.height),{x1:(u*h-l)*u/p,y1:(-u*h+l)/p,x2:(u*d-c)*u/p,y2:(-u*d+c)/p}),v=!e,_=v?this.svgLGrad:et.createElementNS(ii,"linearGradient");if(_)if(_.setAttribute("x1",g.x1),_.setAttribute("y1",g.y1),_.setAttribute("x2",g.x2),_.setAttribute("y2",g.y2),v)this._gradient&&this._gradient[0]==x&&(this._gradient[1]=t);else{for(_.id=this.domId+"-lgrad",_.setAttribute("gradientUnits","userSpaceOnUse"),i=0,s=e.length;i<s;++i)n=e[i],m.push(n.slice()),(o=et.createElementNS(ii,"stop")).setAttribute("offset",n[0]+"%"),o.setAttribute("stop-color",Rt(n[1],n[2],n[3])),o.setAttribute("stop-opacity",void 0===n[4]?1:n[4]/255),_.appendChild(o);this._gradient=[x,t,m],this.svgLGrad&&this.svgLGrad.parentNode?this.svgLGrad.parentNode.replaceChild(_,this.svgLGrad):(this.svgDefs||(this.svgDefs=et.createElementNS(ii,"defs"),this.svgNode.appendChild(this.svgDefs)),this.svgDefs.appendChild(_)),this.svgLGrad=_,f.fill="url(#"+_.id+")",f.fillOpacity=1}},fillRadialGradient:function(t,e,i,s,n){this.fillType=y,this.refreshShadow();var o,r,a,h,l,d=this._fillPath?this._fillPath.style:this.svgPath.style,c=[],u=!i,p=u?this.svgRGrad:et.createElementNS(ii,"radialGradient");if(p){if(u){if(!this._gradient||this._gradient[0]!=A)return;void 0===t?t=this._gradient[1]:this._gradient[1]=t,void 0===e?e=this._gradient[2]:this._gradient[2]=e,s=this._gradient[4],n=this._gradient[5]}var f,m,g,v,_,T,w,b,S,E,x,R,P,I,M,k,O;if(f=t,m=e,g=s,v=n,_=gi(this.svgPath),S=_.x+f*_.width/100,E=_.y+m*_.height/100,x=Math.abs(S-_.x),R=Math.abs(_.x+_.width-S),P=Math.abs(E-_.y),I=Math.abs(_.y+_.height-E),M=1,k=1,O="",v==C.CLOSE_SIDE||v==C.CLOSE_CORNER?(T=Math.min(x,R),w=Math.min(P,I),g==D.CIRCLE?b=v==C.CLOSE_SIDE?Math.min(T,w):Math.sqrt(T*T+w*w):0==T||0==w?b=0:T>=w?(b=v==C.CLOSE_SIDE?T:Math.sqrt(2)*T,k=w/T):(b=v==C.CLOSE_SIDE?w:Math.sqrt(2)*w,M=T/w)):(T=Math.max(x,R),w=Math.max(P,I),g==D.CIRCLE?b=v==C.FAR_SIDE?Math.max(T,w):Math.sqrt(T*T+w*w):0==T||0==w?b=0:T>=w?(b=v==C.FAR_SIDE?T:Math.sqrt(2)*T,k=w/T):(b=v==C.FAR_SIDE?w:Math.sqrt(2)*w,M=T/w)),1==M&&1==k||(O="translate("+S+","+E+") scale("+M+","+k+") translate("+-S+","+-E+")"),l={x:S,y:E,r:b,t:O},p.setAttribute("cx",l.x),p.setAttribute("cy",l.y),p.setAttribute("r",l.r),""===l.t?p.removeAttribute("gradientTransform"):p.setAttribute("gradientTransform",l.t),!u){for(p.id=this.domId+"-rgrad",p.setAttribute("gradientUnits","userSpaceOnUse"),o=0,r=i.length;o<r;++o)a=i[o],c.push(a.slice()),(h=et.createElementNS(ii,"stop")).setAttribute("offset",a[0]+"%"),h.setAttribute("stop-color",Rt(a[1],a[2],a[3])),h.setAttribute("stop-opacity",void 0===a[4]?1:a[4]/255),p.appendChild(h);this._gradient=[A,t,e,c,s,n],this.svgRGrad&&this.svgRGrad.parentNode?this.svgRGrad.parentNode.replaceChild(p,this.svgRGrad):(this.svgDefs||(this.svgDefs=et.createElementNS(ii,"defs"),this.svgNode.appendChild(this.svgDefs)),this.svgDefs.appendChild(p)),this.svgRGrad=p,d.fill="url(#"+p.id+")",d.fillOpacity=1}}},_createSVGShadow:function(){if(!this._svgShadowCreated){var t;this.svgPath.removeAttribute("filter"),this._filterNode&&((t=this.svgNode.querySelector("defs"))&&t.removeChild(this._filterNode),delete this._filterNode,delete this._feFloodNode,delete this._feCompositeNode1,delete this._feOffsetNode,delete this._feGaussianBlurNode,delete this._feCompositeNode2),at.svgShadowBox||this._shadowBoxNode&&(this.svgPath.removeChild(this._shadowBoxNode),delete this._shadowBoxNode),this._filterNode=et.createElementNS(ii,"filter"),this._filterNode.id=this.domId?this.domId+"-dropshadow":"ap-dropshadow-"+Dt(),this._feFloodNode=et.createElementNS(ii,"feFlood"),this._feCompositeNode1=et.createElementNS(ii,"feComposite"),this._feOffsetNode=et.createElementNS(ii,"feOffset"),this._feGaussianBlurNode=et.createElementNS(ii,"feGaussianBlur"),this._feCompositeNode2=et.createElementNS(ii,"feComposite");var e=this._filterNode;e.appendChild(this._feFloodNode),e.appendChild(this._feCompositeNode1),e.appendChild(this._feOffsetNode),e.appendChild(this._feGaussianBlurNode),e.appendChild(this._feCompositeNode2),(t=this.svgNode.querySelector("defs"))||(t=et.createElementNS(ii,"defs"),this.svgNode.appendChild(t)),t.appendChild(e),at.svgShadowBox||(this._shadowBoxNode=et.createElementNS(ii,"path"),this._shadowBoxNode.style.fill="none",this._shadowBoxNode.style.stroke="none",this.svgPath.appendChild(this._shadowBoxNode)),Ct(this._filterNode,{id:this._filterNode.id,filterUnits:si,primitiveUnits:si,style:"color-interpolation-filters:sRGB"}),Ct(this._feFloodNode,{result:"flood"}),Ct(this._feCompositeNode1,{result:"composite1",operator:"in",in2:"SourceGraphic",in:"flood"}),Ct(this._feOffsetNode,{result:"offset",in:"composite1"}),this._feGaussianBlurNode&&Ct(this._feGaussianBlurNode,{result:"blur",in:"offset"}),Ct(this._feCompositeNode2,{result:"composite2",operator:"over",in2:"blur",in:"SourceGraphic"}),this.svgPath.setAttribute("filter","url(#"+this._filterNode.id+")"),this._svgShadowCreated=!0}},clearShadow:function(){if(gt)Ge.prototype.clearShadow.call(this);else if(void 0!==this._shadowRadius){if(delete this._shadowRadius,delete this._shadowAngle,delete this._shadowDistance,delete this._shadowColor,delete this._shadowAlpha,this.svgNode&&this.svgPath){if(this.svgPath.removeAttribute("filter"),this._filterNode){var t=this.svgNode.querySelector("defs");t&&t.removeChild(this._filterNode),delete this._filterNode,delete this._feFloodNode,delete this._feCompositeNode1,delete this._feOffsetNode,delete this._feGaussianBlurNode,delete this._feCompositeNode2}at.svgShadowBox||this._shadowBoxNode&&(this.svgPath.removeChild(this._shadowBoxNode),delete this._shadowBoxNode)}this._fixShadowText(),this._svgShadowCreated=!1}},applyShadow:function(t,e,i,s,n,o,r){if(void 0!==t)if(!gt&&this.svgNode&&this.svgPath){this._shadowRadius=t,this._shadowAngle=e,this._shadowDistance=i,typeof s===nt?(this._shadowColor=s,this._shadowAlpha=n):(this._shadowColor=Rt(s,n,o),this._shadowAlpha=r),this._fixShadowText(),this._createSVGShadow(),this._shadowBoxNode&&this._shadowBoxNode.removeAttribute("d");var a,h,l,d,c,u,p=gi(this.svgPath),f=i*Math.cos(e/180*tt),m=i*Math.sin(e/180*tt),g=this._lineGroup?this._lineGroup.style:this.svgPath.style;if(u=""!=g.strokeWidth?Ae(g.strokeWidth).value+8:0,p.x-=u,p.y-=u,p.width+=2*u,p.height+=2*u,t*=4,a={x:p.x-t+f,y:p.y-t+m,width:p.width+2*t,height:p.height+2*t},h=Math.min(p.x,a.x),l=Math.min(p.y,a.y),d=Math.max(p.x+p.width,a.x+a.width),c=Math.max(p.y+p.height,a.y+a.height),this._shadowBoxNode){var v=new hi;v.addRect(h,l,d-h,c-l),this._shadowBoxNode.setAttribute("d",v.getPath())}Ct(this._filterNode,{x:h,y:l,width:d-h,height:c-l}),Ct(this._feFloodNode,{"flood-color":this._shadowColor,"flood-opacity":this._shadowAlpha/255}),Ct(this._feOffsetNode,{dx:f,dy:m}),Ct(this._feCompositeNode2,{in2:t>0?"blur":"offset"}),this._feGaussianBlurNode&&Ct(this._feGaussianBlurNode,{stdDeviation:t/4})}else Ge.prototype.applyShadow.call(this,t,e,i,s,n,o,r);else this.clearShadow()},setTitle:function(t){t?(this.svgTitle||(this.svgTitle=et.createElementNS(ii,"title"),this.svgPath.appendChild(this.svgTitle)),this.svgTitle.textContent=t):this.svgTitle&&(this.svgPath.removeChild(this.svgTitle),this.svgTitle=null),this.textContainer?this.textContainer.title=t:(this.removeObserver("text.title"),this.addObserver({id:"text.title",_initText:function(e){e.textContainer&&(e.textContainer.title=t)&&e.removeObserver("text.title")}}))},_onResized:function(t,e){var i=this._getPropsData();if(i&&i.s&&this._setPath(i.s),this.fillType===y){var s=this._gradient;s&&(s[0]==A?this.fillRadialGradient(s[1],s[2],s[3],s[4],s[5]):this.fillLinearGradient(s[1],s[2]))}else this.fillType===_&&this.fillImage(this._imageFillData[0],this._imageFillData[1],this._imageFillData[2],this._imageFillData[3]);vi.prototype._onResized.call(this,t,e)},getAutoShapeType:function(){var t=this._getPropsData();return t&&t.s?t.s[0]:M.RECT},getAdjustment:function(){var t=this._getPropsData();return t.s&&t.s[1]?t.s[1]:[]},_setPath:function(t){if(void 0!==this._w)switch(this.svgPath.setAttribute("d",mi.gen(t[0],0,0,this._w,this._h,t[1],t[2])),t[0]){case M.TRI:case M.HEART:case M.RIGHT_TRIANGLE:case M.WAVE:case M.RECT_COUT:case M.ROUND_RECT_COUT:case M.OVAL_COUT:case M.DOWN_ARW:case M.UP_ARW:case M.LEFT_ARW:case M.RIGHT_ARW:case M.LEFT_ARW_COUT:case M.RIGHT_ARW_COUT:case M.UP_ARW_COUT:case M.DOWN_ARW_COUT:case M.NOTCH_RIGHT_ARW:case M.UP_DOWN_ARW:case M.LEFT_RIGHT_ARW:case M.OFFPAGE_CONNECTOR:case M.DIAMOND:case M.DISPLAY:case M.CHEVRON:this.svgPath.style.strokeMiterlimit=8;break;default:t[0]>=M.STAR_MIN&&t[0]<=M.STAR_MAX&&(this.svgPath.style.strokeMiterlimit=8)}}}):bt(yi,{getAutoShapeType:function(){return M.RECT},getAdjustment:function(){return[]},_setPath:function(){}});He.regElemType(function(t,e){return new _i(t,e)},a),_i.getShapeStars=function(t){return ni[t]||(ni[t]=new ri(t))},_i.getShapePolygon=function(t){return oi[t]||(oi[t]=new ai(t))},_i.getAdjsPoint=function(t,e,i,s,n,o){var r=t.getAutoShapeType(),a=t.getAdjustment(),h=0,l=0;switch(r){case M.ROUND_RECT:var d=a[0]*Math.min(s/2,n/2);h=e+d,l=i;break;case M.RECT_COUT:case M.ROUND_RECT_COUT:case M.OVAL_COUT:case M.ROUND_RECT_THOUGHT:case M.OVAL_THOUGHT:h=e+s/2*(1+a[0]),l=i+n/2*(1+a[1]);break;case M.CROSS:h=e+a[0]*Math.min(s/2,n/2),l=i;break;case M.PLAQUE:case M.TRAPE:h=e+(d=a[0]*Math.min(s/2,n/2)),l=i;break;case M.MOON:h=e+(d=a[0]*s),l=i+n/2;break;case M.TRI:h=e+s*a[0],l=i;break;case M.CHEVRON:h=e+s-a[0]*s,l=i;break;case M.LEFT_ARW:if(0===o){var c=Math.min(s,n)*a[0];c<0?c=0:c>s&&(c=s),h=e+c,l=i}else 1===o&&(h=e+s,l=i+n/2*a[1]);break;case M.RIGHT_ARW:0===o?((c=s-Math.min(s,n)*a[0])<0?c=0:c>s&&(c=s),h=e+c,l=i):1===o&&(h=e,l=i+n/2*a[1]);break;case M.UP_ARW:0===o?(h=e,l=i+Math.min(s,n)*a[0],Math.min(s,n)*a[0]<0?l=i:Math.min(s,n)*a[0]>n&&(l=i+n)):1===o&&(h=e+s/2*a[1],l=i+n);break;case M.DOWN_ARW:0===o?(h=e,l=i+n-a[0]*Math.min(s,n),n-a[0]*Math.min(s,n)<0&&(l=0),n-a[0]*Math.min(s,n)>n&&(l=i+n)):1===o&&(h=e+s/2*a[1],l=i);break;case M.LEFT_RIGHT_ARW:0===o?(h=e+a[0]*s/2,l=i):1===o&&(h=e+s-a[0]*s/2,l=i+n/2*a[1]);break;case M.UP_DOWN_ARW:0===o?(h=e,l=i+a[1]*n/2):1===o&&(h=e+a[0]*(s/2),l=i+n-a[1]*n/2);break;case M.LEFT_ARW_COUT:var u=Math.max(a[2],a[0]),p=Math.max(a[3],a[1]);0===o?(h=e+a[0]*s,l=i):1===o?(h=e,l=i+a[1]*n):2===o?(h=e+u*s,l=i+n):3===o&&(h=a[0]*s,l=i+p*n);break;case M.RIGHT_ARW_COUT:u=Math.min(a[2],a[0]),p=Math.max(a[3],a[1]),0===o?(h=e+a[0]*s,l=i):1===o?(h=e+s,l=i+a[1]*n):2===o?(h=e+u*s,l=i+n):3===o&&(h=e+a[0]*s,l=i+p*n);break;case M.UP_ARW_COUT:p=Math.max(a[3],a[2]);var f=Math.max(a[0],a[1]);0===o?(h=e+f*s,l=i+a[2]*n):1===o?(h=e+a[1]*s,l=i):2===o?(h=e+s,l=i+a[2]*n):3===o&&(h=e,l=i+p*n);break;case M.DOWN_ARW_COUT:p=Math.min(a[3],a[2]),f=Math.max(a[0],a[1]),0===o?(h=e+f*s,l=i+a[2]*n):1===o?(h=e+a[1]*s,l=i+n):2===o?(h=e+s,l=i+a[2]*n):3===o&&(h=e,l=i+p*n);break;case M.NOTCH_RIGHT_ARW:0===o?(h=e+s-s*a[0],l=i):1===o&&(h=e+s,l=i+n/2*a[1]);break;case M.WAVE:0===o?(h=e,l=i+n/2*a[0]):1===o&&(h=e+s/2+s/2*a[1],l=i+n);break;case M.PENTAGON:0===o&&(h=e+s-Et(a[0]*Math.min(s,n),0,s),l=i);break;default:if(r>=M.STAR_MIN&&r<=M.STAR_MAX){var m=a[0],g=r-M.STAR_MIN,v=_i.getShapeStars(g);h=e+s/2,l=i+(1-m)*(n/(v.maxY-v.minY));break}}return{x:h,y:l}},_i.getTextRect=function(t){var e,i,s,n=10,o=t.getAdjustment(),r=t._w||0,a=t._h||0,h=t.getAutoShapeType();function l(t){var e={};return e.left=t.left+n,e.top=t.top+n,e.left>t.left+t.width&&(e.left=t.left+t.width),e.top>t.top+t.height&&(e.top=t.top+t.height),e.width=t.width-2*n,e.width<0&&(e.width=0),e.height=t.height-2*n,e.height<0&&(e.height=0),e}switch(h){case M.RECT:case M.RECT_COUT:return l({left:0,top:0,width:r,height:a});case M.ROUND_RECT:var d=o[0]*Math.min(r/2,a/2);return l({left:0+(e=d*(1-1/Math.sqrt(2))),top:0+e,width:r-2*e,height:a-2*e});case M.ROUND_RECT_THOUGHT:case M.ROUND_RECT_COUT:return l({left:0+(e=(d=.2*Math.min(r,a))*(1-1/Math.sqrt(2))),top:0+e,width:r-2*e,height:a-2*e});case M.OVAL:case M.OVAL_COUT:case M.OVAL_THOUGHT:return l({left:0+(i=(e=1-Math.sqrt(2)/2)*r/2),top:0+(s=e*a/2),width:r-2*i,height:a-2*s});case M.DIAMOND:return l({left:0+(i=r/4),top:0+(s=a/4),width:r-2*i,height:a-2*s});case M.HEART:return l({left:0+.2*r,top:0+.25*a,width:.6*r,height:.4*a});case M.CROSS:return l({left:0+(e=o[0]*Math.min(r/2,a/2)),top:0+e,width:r-2*e,height:a-2*e});case M.PLAQUE:return l({left:0+(e=o[0]*Math.min(r/2,a/2)*Math.cos(Math.PI/4)),top:0+e,width:r-2*e,height:a-2*e});case M.TRAPE:return l({left:0+(e=o[0]*Math.min(r/2,a/2)),top:0+e,width:r-2*e,height:a-e});case M.MOON:return l({left:0+r*o[0]/3,top:0+a*(1-o[0])/2,width:2/3*r*o[0],height:a*o[0]});case M.TRI:return l({left:0+r*o[0]/2,top:0+a/2,width:r/2,height:a/2});case M.CHEVRON:return l({left:0+r*o[0],top:0,width:r-2*r*o[0],height:a});case M.LEFT_ARW:var c,u=_i.getAdjsPoint(t,0,0,r,a,0),p=_i.getAdjsPoint(t,0,0,r,a,1),f=a-2*(p.y-0);return c=a<=0?r:r-(u.x-0)*f/a,l({left:p.x-c,top:p.y,width:c,height:f});case M.RIGHT_ARW:return u=_i.getAdjsPoint(t,0,0,r,a,0),f=a-2*((p=_i.getAdjsPoint(t,0,0,r,a,1)).y-0),c=a<=0?r:r-(r-u.x+0)*f/a,l({left:p.x,top:p.y,width:c,height:f});case M.UP_ARW:return u=_i.getAdjsPoint(t,0,0,r,a,0),c=r-2*((p=_i.getAdjsPoint(t,0,0,r,a,1)).x-0),f=r<=0?a:a-(u.y-0)*c/r,l({left:p.x,top:p.y-f,width:c,height:f});case M.DOWN_ARW:return u=_i.getAdjsPoint(t,0,0,r,a,0),l({left:(p=_i.getAdjsPoint(t,0,0,r,a,1)).x,top:p.y,width:r-2*(p.x-0),height:r<=0?a:a-(a-u.y-0)*r/r});case M.LEFT_RIGHT_ARW:return l({left:0+o[0]*r/4,top:0+o[1]*a/2,width:r-o[0]*r/2,height:a*(1-o[1])});case M.UP_DOWN_ARW:return l({left:0+o[0]*r/2,top:0+o[1]*a/4,width:r*(1-o[0]),height:a-o[1]*a/2});case M.NOTCH_RIGHT_ARW:return l({left:0+o[0]*r/2,top:0+a/2*o[1],width:r*(o[1]+1-o[0])-r/2,height:a-o[1]*a});case M.UP_ARW_COUT:return l({left:0,top:(e=Math.max(o[2],o[3]))*a,width:r,height:(1-e)*a});case M.DOWN_ARW_COUT:return l({left:0,top:0,width:r,height:a*(e=Math.min(o[2],o[3]))});case M.LEFT_ARW_COUT:var m=Math.max(o[2],o[0]);return l({left:0+m*r,top:0,width:r*(1-m),height:a});case M.RIGHT_ARW_COUT:return l({left:0,top:0,width:r*(m=Math.min(o[2],o[0])),height:a});case M.RIGHT_TRIANGLE:return l({left:0+1*r/10,top:0+6*a/10,width:r/2,height:3*a/10});case M.DATA:return l({left:0+.2*r,top:0,width:r-.4*r,height:a});case M.OFFPAGE_CONNECTOR:return l({left:0,top:0,width:r,height:a-.2*a});case M.DISPLAY:return l({left:0+r/6,top:0,width:r-r/3,height:a});case M.CARD:return l({left:0,top:0+.2*a,width:r,height:.8*a});case M.STOREDATA:return l({left:0+r/6,top:0,width:r-r/3,height:a});case M.WAVE:return l({left:0+2*Math.abs(o[1]*r/2),top:0+2.2*o[0]*a/2,width:r-4*Math.abs(o[1]*r/2),height:a-4.4*o[0]*a/2});case M.PENTAGON:return l({left:0,top:0,width:r-Et(o[0]*Math.min(r,a),0,r),height:a});default:var g,v,y,_,T,w;if(h>=M.STAR_MIN&&h<=M.STAR_MAX){w=h-M.STAR_MIN;var b=_i.getShapeStars(w);return T=a/(b.maxY-b.minY),_=r/(b.maxX-b.minX),g=0,v=0,y=o[0],5===w?l({left:Math.round(0+r-(b.cXs[1]*y-b.minX)*_),top:Math.round(0+(b.cYs[1]*y-b.minY)*T),width:Math.round(r-2*(r-(b.cXs[1]*y-b.minX)*_)),height:Math.round((b.cYs[5]-b.cYs[1])*y*T)}):(4===w||6===w||8===w?(g=Math.round(r-(b.cXs[1]*y-b.minX)*_),v=Math.round((b.cYs[1]*y-b.minY)*T)):12===w?(g=Math.round(r-(b.cXs[3]*y-b.minX)*_),v=Math.round((b.cYs[3]*y-b.minY)*T)):24===w&&(g=Math.round(r-(b.cXs[5]*y-b.minX)*_),v=Math.round((b.cYs[5]*y-b.minY)*T)),l({left:0+g,top:0+v,width:r-2*g,height:a-2*v}))}if(h>=M.POLY_MIN&&h<=M.POLY_MAX){w=h-M.POLY_MIN;var S=_i.getShapePolygon(w);if(y=.8,T=a/(S.maxY-S.minY),_=r/(S.maxX-S.minX),5===w)return l({left:0+r-(S.cXs[1]*y-S.minX)*_,top:0+(S.cYs[1]*y-S.minY)*T,width:r-2*(r-(S.cXs[1]*y-S.minX)*_),height:(S.cYs[w]-S.cYs[1])*y*T});if(6===w)return l({left:0,top:0+(v=(S.cYs[2*(w-1)]-S.minY)*T),width:r,height:a-2*v});if(7===w)return l({left:0+(g=(S.cXs[2*(w-1)]-S.minX)*_),top:0+(v=(S.cYs[2*(w-1)]-S.minY)*T),width:r-2*g,height:a-2*v});if(8===w)return l({left:0+(g=(S.cXs[2*(w-1)]-S.minX)*_),top:0+(v=(S.cYs[2*(w-1)]-S.minY)*T),width:r-2*g,height:a-2*v})}return l({left:0,top:0,width:r,height:a})}};var Ti=bt(Ge,{$init:function(t,e){this.autoplay=!1,t&&(void 0!==t.ap?this.autoplay=t.ap:void 0!==t.autoplay&&(this.autoplay=t.autoplay)),Ge.prototype.$init.call(this,t,e)},create:function(){var t=et.createElement("div");return t.style.pointerEvents="none",t},_onRemovedFromDoc:function(){if(this.sym){var t=me.docs.indexOf(this.sym);t>-1&&me.docs.splice(t,1),(t=me.topDocs.indexOf(this.sym))>-1&&me.topDocs.splice(t,1);var e=this.sym.getParentDoc();e&&e.removeObserversById(this.sym)}},setAutoplay:function(t){this.autoplay=t},setResource:function(t){this.sym&&(this.sym.destroy(),this.sym=null),t&&(this.sym=me.openDoc(t,this.dom,{parentElement:this,paused:!this.autoplay,center:t.align,autofit:t.af}))},_onResized:function(t,e){this.sym&&this.sym.layoutIfNeeded(),Ge.prototype._onResized.call(this,t,e)},tick:function(t){this.sym&&this.sym.tick(t)},getSymbolDoc:function(){return this.sym||null}});Tt(Ti.prototype,"sym",["play","pause","seek","setSpeed","setPlayBackward","isPlaying","isPlayBackward","getDuration"]),He.regElemType(function(t,e){return new Ti(t,e)},r);var wi="about:blank",bi=bt(Ge,{create:function(){var t=Ge.prototype.create.call(this),e=et.createElement("iframe"),i=e.style;return i.display="block",i.width="100%",i.height="100%",i.border="none",t.appendChild(e),this.embeddedDom=e,void 0===at.srcdoc&&(at.srcdoc="srcdoc"in e),t},_setOverflow4Container:function(t){this.embeddedDom.scrolling="hidden"===t?"no":"scroll"===t?"yes":"auto",this.srcdoc?this.setSrcDoc(this.srcdoc):this.embeddedDom.src&&(this.embeddedDom.src=this.embeddedDom.src)},setUrl:function(t){t=t||wi,this.iframeUrl!==t&&(this.iframeUrl=t,!at.srcdoc&&this.srcdoc||(this.embeddedDom.src=t))},setResource:function(t){this.setUrl(t)},reload:function(){!at.srcdoc&&this.srcdoc||(this.embeddedDom.src+="")},setSrcDoc:function(t){if(this.srcdoc=t||"",at.srcdoc)t?this.embeddedDom.srcdoc=t:(this.embeddedDom.removeAttribute("srcdoc"),lt&&(this.embeddedDom.src=this.iframeUrl||wi));else if(t){var e=function(i){try{i.target.removeEventListener("load",e,!1);var s=i.target.contentDocument;s.open(),s.write(t),s.close()}catch(t){}};this.embeddedDom.addEventListener("load",e,!1),this.embeddedDom.src=wi}else this.embeddedDom.src=this.iframeUrl||wi}});He.regElemType(function(t,e){return new bi(t,e)},s);var Si=bt(_i,{$init:function(t,e){_i.prototype.$init.call(this,t,e)},create:function(){var t,e=_i.prototype.create.call(this);this._lineGroup||(this.svgPath&&this.svgNode.removeChild(this.svgPath),this.svgPath=et.createElementNS(ii,"g"),this.svgPath.style.strokeMiterlimit=8,this._fillPath=et.createElementNS(ii,"path"),this._fillPath.style.stroke="none",this.svgPath.appendChild(this._fillPath),this._lineGroup=et.createElementNS(ii,"g"),this._linePath=et.createElementNS(ii,"path"),(t=this._linePath.style).fill="none",t.strokeLinecap="round",t.strokeLinejoin="miter",this._lineGroup.appendChild(this._linePath),this._lineStart=et.createElementNS(ii,"path"),(t=this._lineStart.style).strokeLinecap="round",t.strokeLinejoin="miter",t.stroke=t.fill="none",this._lineGroup.appendChild(this._lineStart),this._lineEnd=et.createElementNS(ii,"path"),(t=this._lineEnd.style).strokeLinecap="round",t.strokeLinejoin="miter",t.stroke=t.fill="none",this._lineGroup.appendChild(this._lineEnd),this.svgPath.appendChild(this._lineGroup),this.svgNode.appendChild(this.svgPath));return e},setBorderStyle:function(t){_i.prototype.setBorderStyle.call(this,t);var e=this._lineWidth||0;"none"===t&&(this._lineWidth=0);var i=this._getPropsData();i&&i.s&&this._setPath(i.s),this._lineWidth=e,this._lineStart&&(this._lineStart.style.strokeDasharray="none"),this._lineEnd&&(this._lineEnd.style.strokeDasharray="none")},setBorderWidth:function(t){_i.prototype.setBorderWidth.call(this,t),this._lineWidth=Ae(t).value;var e=this._getPropsData();e&&e.s&&this._setPath(e.s)},setBorderColor:function(t,e,i,s){if(_i.prototype.setBorderColor.call(this,t,e,i,s),this._lineGroup){var n=this._lineGroup.style;this._lineStart&&(this._lineStart.style.fill=n.stroke,this._lineStart.style.fillOpacity=s/255),this._lineEnd&&(this._lineEnd.style.fill=n.stroke,this._lineEnd.style.fillOpacity=s/255)}this.updateArrowStyle()},setCursor:function(t){_i.prototype.setCursor.call(this,t),this._lineGroup&&(this._lineStart&&(this._lineStart.style.cursor=t),this._lineEnd&&(this._lineEnd.style.cursor=t))},startArrow:function(t,e){this._startArrow={type:t,size:e}},endArrow:function(t,e){this._endArrow={type:t,size:e}},updateArrowStyle:function(){if(this._lineGroup){var t,e=this._lineGroup.style;this._lineStart&&(t=this._lineStart.style,this._startArrow&&this._startArrow.type!==k.NONE?this._startArrow.type===k.OPEN?(t.stroke=e.stroke,t.fill="none"):(t.stroke="none",t.fill=e.stroke):t.stroke=t.fill="none"),this._lineEnd&&(t=this._lineEnd.style,this._endArrow&&this._endArrow.type!==k.NONE?this._endArrow.type===k.OPEN?(t.stroke=e.stroke,t.fill="none"):(t.stroke="none",t.fill=e.stroke):t.stroke=t.fill="none")}},_setPath:function(t){if(void 0!==this._w&&t[0]>=M.LINE&&t[0]<=M.AUTOSHAPE_CUSTOM_FREEFORM_SCRIBBLE){var e=new hi,i=this._w,s=this._h,n=t[1];if(n){var o,r,a,h,l,d;if(void 0===n.w){var c=function(t){var e=new hi,i=et.createElementNS(ii,"svg"),s=et.createElementNS(ii,"path"),n=i.style;n.position="absolute",n.top=n.left="-10000px",n.visibility="hidden",li(e,t),s.setAttribute("d",e.getPath()),i.appendChild(s),et.body.appendChild(i);var o=gi(s);return et.body.removeChild(i),o}(n);n.w=c.width,n.h=c.height}var u=this._lineWidth||0;n.w===i&&n.h===s||(n=function(t,e,i){var s,n,o,r,a,h=[],l=ci.scaleNonUniform(e,i);for(n=0,o=t.length;n<o;++n)r=[],a=pi(l,(s=t[n])[0],s[1]),r[0]=a.x,r[1]=a.y,a=pi(l,s[2],s[3]),r[2]=a.x,r[3]=a.y,a=pi(l,s[4],s[5]),r[4]=a.x,r[5]=a.y,r[6]=s[6],h[n]=r;return h}(n,n.w?i/n.w:1,n.h?s/n.h:1)),void 0!==t[2]?this.endArrow(t[2],t[3]):this.endArrow(k.NONE),void 0!==t[4]?this.startArrow(t[4],t[5]):this.startArrow(k.NONE),this._startArrow&&this._startArrow.type!==k.NONE&&u>0&&(o=n[0].slice(),a=Math.atan2(o[5]-o[1],o[4]-o[0]),(d=new hi).addMarker(this._startArrow.type,this._startArrow.size,u),e.startArrow=d.getPath(),e.startArrowTransform="translate("+o[0]+","+o[1]+") rotate("+180*a/tt+")",h=fi(this._startArrow.type,this._startArrow.size,u),n[0][0]+=h*Math.cos(a),n[0][1]+=h*Math.sin(a)),this._endArrow&&this._endArrow.type!==k.NONE&&u>0&&(r=n[l=n.length-1].slice(),a=Math.atan2(r[3]-r[1],r[2]-r[0]),(d=new hi).addMarker(this._endArrow.type,this._endArrow.size,u),e.endArrow=d.getPath(),e.endArrowTransform="translate("+r[0]+","+r[1]+") rotate("+180*a/tt+")",h=fi(this._endArrow.type,this._endArrow.size,u),n[l][0]+=h*Math.cos(a),n[l][1]+=h*Math.sin(a)),li(e,n),o&&(n[0]=o),r&&(n[l]=r),e.line=e.getPath(),(o||r)&&(e.clear(),li(e,n)),e.fill=e.getPath(),this.updateArrowStyle(),this._fillPath&&this._fillPath.setAttribute("d",e.fill||""),this._linePath&&this._linePath.setAttribute("d",e.line||""),this._lineStart&&(this._lineStart.setAttribute("d",e.startArrow||""),e.startArrowTransform?this._lineStart.setAttribute("transform",e.startArrowTransform):this._lineStart.removeAttribute("transform")),this._lineEnd&&(this._lineEnd.setAttribute("d",e.endArrow||""),e.endArrowTransform?this._lineEnd.setAttribute("transform",e.endArrowTransform):this._lineEnd.removeAttribute("transform"))}}}});He.regElemType(function(t,e){return new Si(t,e)},h),yt(me,{Element:Ge,Scene:He,Text:vi,Shape:_i,Div:yi,Audio:ei,Symbol:Ti,EmbeddedWidget:bi,isNumeric:xt,extend:yt,Alignment:N,centerFixedSizeElement:Nt,ShapeType:M,createClass:bt,PropHelper:We,ShapeStars:ni,Timeline:Le,Animation:Se,MotionTween:Ne,bezier:Me,logDebug:St,extractUnit:Ae,TimingEvent:be,clamp:Et,Loader:ce,showMessage:function(t,e){if(typeof e===nt){if(!(e=et.getElementById(e)))return}else e||(e=et.body);var i=et.createElement("div"),s=et.createElement("div"),n=i.style;n.position="absolute",n.width="100%",n.textAlign="center",(n=s.style).textAlign="justify",n.marginTop="5%",n.maxWidth="80%",n.display="inline-block",n.padding="20px",st.boxShadow||(st.boxShadow=dt(n,"boxShadow",!0))?n[st.boxShadow]="0 0 10px rgba(0, 0, 0, 0.5)":n.border="solid grey 1px",s.innerHTML=t,i.appendChild(s),e.appendChild(i)},FreeForm:Si,bezApprox:ke,ResourceType:O,cssColor:Rt,messages:{_default:{unsupportedBrowser:"You're using a web browser we don't support."}}})}(),
/*!
 * Heartcode CanvasLoader https://github.com/heartcode/CanvasLoader
 * Copyright (c) 2011 Róbert Pataki
 * Modified by ATOMI
 * Licensed under the MIT license.
 */
function(t){"use strict";var e=function(t,e){void 0===e&&(e={}),this.init(t,e)},i=e.prototype,s=["oval","spiral","square","rect","roundRect"],n=/^\#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,o=function(t,e,i){var s,n=document.createElement(t);for(s in i)n[s]=i[s];return void 0!==e&&e.appendChild(n),n},r=function(t,e){for(var i in e)t.style[i]=e[i];return t},a=function(t,e){for(var i in e)t.setAttribute(i,e[i]);return t},h=function(t,e,i,s){t.save(),t.translate(e,i),t.rotate(s),t.translate(-e,-i),t.beginPath()};i.init=function(t,e){e||(e={}),"string"==typeof t&&(t=document.getElementById(t)),t||(t=document.body),this.cont=o("div",t),e.id&&(this.cont.id=e.id);var i=this.cont.style;i.position="absolute",i.margin="auto",i.left=i.right=i.top=i.bottom=0,i.pointerEvents="none",void 0!==e.zIndex&&(i.zIndex=e.zIndex),this.can=o("canvas",this.cont),this.con=this.can.getContext("2d"),this.cCan=r(o("canvas",this.cont),{display:"none"}),this.cCon=this.cCan.getContext("2d");var s,n,a=["shape","color","diameter","density","range","speed","text"],h=["oval","#2090e6",60,9,1,1,""];for(s=0;s<a.length;++s)this[n=a[s]]=void 0!==e[n]?e[n]:h[s];this.cRGB=this.getRGB(this.color),this.draw(),r(this.cont,{display:"none"})},i.cont={},i.can={},i.con={},i.cCan={},i.cCon={},i.timer=null,i.activeId=0,i.diameter=40,i.setDiameter=function(t){this.diameter=t<1?1:t,this.redraw()},i.getDiameter=function(){return this.diameter},i.cRGB={},i.color="#000000",i.setColor=function(t){this.color=n.test(t)?t:"#000000",this.cRGB=this.getRGB(this.color),this.redraw()},i.getColor=function(){return this.color},i.shape=s[0],i.setShape=function(t){var e;for(e in s)if(t===s[e]){this.shape=t,this.redraw();break}},i.getShape=function(){return this.shape},i.density=40,i.setDensity=function(t){this.density=Math.round(Math.abs(t)),this.density>360&&(this.density=360),this.density<2&&(this.density=2),this.activeId=0,this.redraw()},i.getDensity=function(){return this.density},i.range=1.3,i.setRange=function(t){this.range=Math.abs(t),this.redraw()},i.getRange=function(){return this.range},i.speed=2,i.setSpeed=function(t){this.speed=Math.round(Math.abs(t))},i.getSpeed=function(){return this.speed},i.text="",i.setText=function(t){this.text=t,this.textChanged=!0,this.timer&&this.tick(!0)},i.getText=function(){return this.text},i.getRGB=function(t){return t="#"===t.charAt(0)?t.substring(1,7):t,{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16)}},i.draw=function(){var t,e,i,n,o,l,d,c,u=0,p=this.density,f=Math.round(p*this.range),m=this.cCon,g=this.diameter,v=.47;for(g<1&&(this.diameter=g=1),r(this.cont,{width:g+"px",height:g+"px"}),m.clearRect(0,0,1e3,1e3),a(this.can,{width:g,height:g}),a(this.cCan,{width:g,height:g});u<p;){switch(c=u<=f?1-1/f*u:c=0,l=(270-360/p*u)/180*Math.PI,m.fillStyle="rgba("+this.cRGB.r+","+this.cRGB.g+","+this.cRGB.b+","+c.toString()+")",this.shape){case s[0]:case s[1]:t=.07*g,n=g*v+Math.cos(l)*(g*v-t)-g*v,o=g*v+Math.sin(l)*(g*v-t)-g*v,m.beginPath(),this.shape===s[1]?m.arc(.5*g+n,.5*g+o,t*c,0,2*Math.PI,!1):m.arc(.5*g+n,.5*g+o,t,0,2*Math.PI,!1);break;case s[2]:t=.12*g,n=Math.cos(l)*(g*v-t)+.5*g,o=Math.sin(l)*(g*v-t)+.5*g,h(m,n,o,l),m.fillRect(n,o-.5*t,t,t);break;case s[3]:case s[4]:i=.27*(e=.3*g),n=Math.cos(l)*(i+.13*(g-i))+.5*g,o=Math.sin(l)*(i+.13*(g-i))+.5*g,h(m,n,o,l),this.shape===s[3]?m.fillRect(n,o-.5*i,e,i):(d=.55*i,m.moveTo(n+d,o-.5*i),m.lineTo(n+e-d,o-.5*i),m.quadraticCurveTo(n+e,o-.5*i,n+e,o-.5*i+d),m.lineTo(n+e,o-.5*i+i-d),m.quadraticCurveTo(n+e,o-.5*i+i,n+e-d,o-.5*i+i),m.lineTo(n+d,o-.5*i+i),m.quadraticCurveTo(n,o-.5*i+i,n,o-.5*i+i-d),m.lineTo(n,o-.5*i+d),m.quadraticCurveTo(n,o-.5*i,n+d,o-.5*i))}m.closePath(),m.fill(),m.restore(),++u}this.con.textAlign="center",this.con.textBaseline="middle",this.con.font="bold "+this.detectFontSize()+"px Arial",this.con.fillStyle="rgb("+this.cRGB.r+","+this.cRGB.g+","+this.cRGB.b+")",this.timer&&this.tick(!0)},i.clean=function(){this.con.clearRect(0,0,1e3,1e3)},i.redraw=function(){this.clean(),this.draw()},i.reset=function(){this.timer&&(this.hide(),this.show())},i.detectFontSize=function(){if(this.diameter<90){if(this.shape.toLowerCase().indexOf("rect")>-1){if(this.diameter<65)return 8;if(this.diameter<80)return 10}return 12}return this.diameter<120?14:this.diameter<140?18:22},i.tick=function(t){var e,i=this.con,s=this.diameter,n=Date.now();if(s<1&&(this.diameter=s=1),!t&&this.prevTime){if((e=Math.floor((n-this.prevTime)*this.speed/100))===this.density&&(e=this.density-1),!e&&!this.textChanged)return;this.activeId+=360/this.density*e,e&&(this.prevTime=100*e/this.speed+this.prevTime)}else this.prevTime=n;i.clearRect(0,0,s,s),h(i,.5*s,.5*s,this.activeId/180*Math.PI),i.drawImage(this.cCan,0,0,s,s),i.restore(),this.text&&(i.fillText(this.text,s/2,s/2),this.textChanged=!1)},i.show=function(){if(!this.timer){this.prevTime=null;var t=this,e=function(){t.tick(),t.timer=requestAnimationFrame(e)};e(),r(this.cont,{display:"block"})}},i.hide=function(){this.timer&&(cancelAnimationFrame(this.timer),delete this.timer,this.prevTime=null,r(this.cont,{display:"none"}))},i.kill=function(){this.hide(),this.cont.parentNode&&this.cont.parentNode.removeChild(this.cont)},document.createElement("canvas").getContext&&(t.CanvasLoader=e)}(AtomiSaola);